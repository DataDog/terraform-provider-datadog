---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "datadog_integration_gcp_sts Resource - terraform-provider-datadog"
subcategory: ""
description: |-
  Provides a Datadog Integration GCP Sts resource. This can be used to create and manage Datadog - Google Cloud Platform integration.
---

# datadog_integration_gcp_sts (Resource)

Provides a Datadog Integration GCP Sts resource. This can be used to create and manage Datadog - Google Cloud Platform integration.

## Example Usage

```terraform
# Create new integration_gcp_sts resource

// Service account should have compute.viewer, monitoring.viewer, cloudasset.viewer, and browser roles (the browser role is only required in the default project of the service account).
resource "google_service_account" "datadog_integration" {
  account_id   = "datadogintegration"
  display_name = "Datadog Integration"
  project      = "gcp-project"
}

// Grant token creator role to the Datadog principal account.
resource "google_service_account_iam_member" "sa_iam" {
  service_account_id = google_service_account.datadog_integration.name
  role               = "roles/iam.serviceAccountTokenCreator"
  member             = format("serviceAccount:%s", datadog_integration_gcp_sts.foo.delegate_account_email)
}

resource "datadog_integration_gcp_sts" "foo" {
  client_email               = google_service_account.datadog_integration.email
  host_filters               = ["filter_one", "filter_two"]
  cloud_run_revision_filters = ["filter_one", "filter_two"]
  automute                   = true
  is_cspm_enabled            = false
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `client_email` (String) Your service account email address.

### Optional

- `account_tags` (Set of String) Tags to be associated with GCP metrics and service checks from your account.
- `automute` (Boolean) Silence monitors for expected GCE instance shutdowns.
- `cloud_run_revision_filters` (Set of String) Tags to filter which Cloud Run revisions are imported into Datadog. Only revisions that meet specified criteria are monitored.
- `host_filters` (Set of String) Your Host Filters.
- `is_cspm_enabled` (Boolean) Whether Datadog collects cloud security posture management resources from your GCP project. If enabled, requires `resource_collection_enabled` to also be enabled.
- `is_resource_change_collection_enabled` (Boolean) When enabled, Datadog scans for all resource change data in your Google Cloud environment.
- `is_security_command_center_enabled` (Boolean) When enabled, Datadog will attempt to collect Security Command Center Findings. Note: This requires additional permissions on the service account. Defaults to `false`.
- `metric_namespace_configs` (Set of Object) Configuration for a GCP metric namespace. (see [below for nested schema](#nestedatt--metric_namespace_configs))
- `resource_collection_enabled` (Boolean) When enabled, Datadog scans for all resources in your GCP environment.

### Read-Only

- `delegate_account_email` (String) Datadog's STS Delegate Email.
- `id` (String) The ID of this resource.

<a id="nestedatt--metric_namespace_configs"></a>
### Nested Schema for `metric_namespace_configs`

Optional:

- `disabled` (Boolean)
- `id` (String)

## Import

Import is supported using the following syntax:

```shell
terraform import datadog_integration_gcp_sts.foo "9c303af3-b963-45e0-8c8f-469b9e1a213f"
```
