---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "datadog_integration_gcp_sts Resource - terraform-provider-datadog"
subcategory: ""
description: |-
  Provides a Datadog Integration GCP Sts resource. This can be used to create and manage Datadog - Google Cloud Platform integration.
---

# datadog_integration_gcp_sts (Resource)

Provides a Datadog Integration GCP Sts resource. This can be used to create and manage Datadog - Google Cloud Platform integration.

## Example Usage

```terraform
# Create new integration_gcp_sts resource

// Service account should have compute.viewer, monitoring.viewer, cloudasset.viewer, and browser roles (the browser role is only required in the default project of the service account).
resource "google_service_account" "datadog_integration" {
  account_id   = "datadogintegration"
  display_name = "Datadog Integration"
  project      = "gcp-project"
}

// Grant token creator role to the Datadog principal account.
resource "google_service_account_iam_member" "sa_iam" {
  service_account_id = google_service_account.datadog_integration.name
  role               = "roles/iam.serviceAccountTokenCreator"
  member             = format("serviceAccount:%s", datadog_integration_gcp_sts.foo.delegate_account_email)
}

resource "datadog_integration_gcp_sts" "foo" {
  client_email               = google_service_account.datadog_integration.email
  host_filters               = ["filter_one", "filter_two"]
  cloud_run_revision_filters = ["filter_one", "filter_two"]
  automute                   = true
  is_cspm_enabled            = false
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `client_email` (String) Your service account email address.

### Optional

- `account_tags` (Set of String) Tags to be associated with GCP metrics and service checks from your account.
- `automute` (Boolean) Silence monitors for expected GCE instance shutdowns.
- `cloud_run_revision_filters` (Set of String, Deprecated) List of filters to limit the Cloud Run revisions that are pulled into Datadog by using tags. Only Cloud Run revision resources that apply to specified filters are imported into Datadog.
- `host_filters` (Set of String, Deprecated) List of filters to limit the VM instances that are pulled into Datadog by using tags. Only VM instance resources that apply to specified filters are imported into Datadog.
- `is_cspm_enabled` (Boolean) Whether Datadog collects cloud security posture management resources from your GCP project. If enabled, requires `resource_collection_enabled` to also be enabled.
- `is_per_project_quota_enabled` (Boolean) When enabled, Datadog includes the `X-Goog-User-Project` header to attribute Google Cloud billing and quota usage to the monitored project instead of the default service account project.
- `is_resource_change_collection_enabled` (Boolean) When enabled, Datadog scans for all resource change data in your Google Cloud environment.
- `is_security_command_center_enabled` (Boolean) When enabled, Datadog will attempt to collect Security Command Center Findings. Note: This requires additional permissions on the service account. Defaults to `false`.
- `metric_namespace_configs` (Set of Object) Configurations for GCP metric namespaces. (see [below for nested schema](#nestedatt--metric_namespace_configs))
- `monitored_resource_configs` (Set of Object) Configurations for GCP monitored resources. Only monitored resources that apply to specified filters are imported into Datadog. (see [below for nested schema](#nestedatt--monitored_resource_configs))
- `resource_collection_enabled` (Boolean) When enabled, Datadog scans for all resources in your GCP environment.

### Read-Only

- `delegate_account_email` (String) Datadog's STS Delegate Email.
- `id` (String) The ID of this resource.

<a id="nestedatt--metric_namespace_configs"></a>
### Nested Schema for `metric_namespace_configs`

Optional:

- `disabled` (Boolean)
- `filters` (Set of String)
- `id` (String)


<a id="nestedatt--monitored_resource_configs"></a>
### Nested Schema for `monitored_resource_configs`

Optional:

- `filters` (Set of String)
- `type` (String)

## Import

Import is supported using the following syntax:

The [`terraform import` command](https://developer.hashicorp.com/terraform/cli/commands/import) can be used, for example:

```shell
terraform import datadog_integration_gcp_sts.foo "9c303af3-b963-45e0-8c8f-469b9e1a213f"
```
