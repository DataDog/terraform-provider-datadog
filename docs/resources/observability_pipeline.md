---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "datadog_observability_pipeline Resource - terraform-provider-datadog"
subcategory: ""
description: |-
  Provides a Datadog Observability Pipeline resource. Observability Pipelines allows you to collect and process logs within your own infrastructure, and then route them to downstream integrations.
---

# datadog_observability_pipeline (Resource)

Provides a Datadog Observability Pipeline resource. Observability Pipelines allows you to collect and process logs within your own infrastructure, and then route them to downstream integrations.

## Example Usage

```terraform
resource "datadog_observability_pipeline" "test" {
  name = "test pipeline"
  config {

    sources {
      kafka {
        id       = "source-1"
        group_id = "my-consumer-group"
        topics   = ["my-topic-1", "my-topic-2"]

        tls {
          crt_file = "/etc/certs/client.crt"
          key_file = "/etc/certs/client.key"
          ca_file  = "/etc/certs/ca.crt"
        }

        sasl {
          mechanism = "SCRAM-SHA-512"
        }

        librdkafka_option {
          name  = "fetch.message.max.bytes"
          value = "1048576"
        }

        librdkafka_option {
          name  = "socket.timeout.ms"
          value = "500"
        }
      }
    }

    processors {
      parse_json {
        id      = "filter-1"
        include = "service:nginx"
        field   = "message2"
        inputs  = ["source-1"]
      }

      filter {
        id      = "filter-2"
        include = "service:nginx"
        inputs  = ["filter-1"]
      }

      parse_json {
        id      = "filter-3"
        include = "service:nginx"
        field   = "message"
        inputs  = ["filter-2"]
      }
    }

    destinations {
      datadog_logs {
        id     = "sink-1"
        inputs = ["filter-3"]
      }
    }

  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `name` (String) The pipeline name.

### Optional

- `config` (Block, Optional) Configuration for the pipeline. (see [below for nested schema](#nestedblock--config))

### Read-Only

- `id` (String) The ID of this resource.

<a id="nestedblock--config"></a>
### Nested Schema for `config`

Optional:

- `destinations` (Block, Optional) List of destinations. (see [below for nested schema](#nestedblock--config--destinations))
- `processors` (Block, Optional) List of processors. (see [below for nested schema](#nestedblock--config--processors))
- `sources` (Block, Optional) List of sources. (see [below for nested schema](#nestedblock--config--sources))

<a id="nestedblock--config--destinations"></a>
### Nested Schema for `config.destinations`

Optional:

- `datadog_logs` (Block List) The `datadog_logs` destination forwards logs to Datadog Log Management. (see [below for nested schema](#nestedblock--config--destinations--datadog_logs))

<a id="nestedblock--config--destinations--datadog_logs"></a>
### Nested Schema for `config.destinations.datadog_logs`

Required:

- `id` (String) The unique ID of the destination.
- `inputs` (List of String) The inputs for the destination.



<a id="nestedblock--config--processors"></a>
### Nested Schema for `config.processors`

Optional:

- `add_fields` (Block List) The `add_fields` processor adds static key-value fields to logs. (see [below for nested schema](#nestedblock--config--processors--add_fields))
- `filter` (Block List) The `filter` processor allows conditional processing of logs based on a Datadog search query. Logs that match the `include` query are passed through; others are discarded. (see [below for nested schema](#nestedblock--config--processors--filter))
- `parse_json` (Block List) The `parse_json` processor extracts JSON from a specified field and flattens it into the event. This is useful when logs contain embedded JSON as a string. (see [below for nested schema](#nestedblock--config--processors--parse_json))
- `quota` (Block List) The `quota` measures logging traffic for logs that match a specified filter. When the configured daily quota is met, the processor can drop or alert. (see [below for nested schema](#nestedblock--config--processors--quota))
- `remove_fields` (Block List) The `remove_fields` processor deletes specified fields from logs. (see [below for nested schema](#nestedblock--config--processors--remove_fields))
- `rename_fields` (Block List) The `rename_fields` processor changes field names. (see [below for nested schema](#nestedblock--config--processors--rename_fields))

<a id="nestedblock--config--processors--add_fields"></a>
### Nested Schema for `config.processors.add_fields`

Required:

- `id` (String) The unique ID of the processor.
- `include` (String) A Datadog search query used to determine which logs this processor targets.
- `inputs` (List of String) The inputs for the processor.

Optional:

- `field` (Block List) A list of static fields (key-value pairs) that is added to each log event processed by this component. (see [below for nested schema](#nestedblock--config--processors--add_fields--field))

<a id="nestedblock--config--processors--add_fields--field"></a>
### Nested Schema for `config.processors.add_fields.field`

Required:

- `name` (String) The field name to add.
- `value` (String) The value to assign to the field.



<a id="nestedblock--config--processors--filter"></a>
### Nested Schema for `config.processors.filter`

Required:

- `id` (String) The unique ID of the processor.
- `include` (String) A Datadog search query used to determine which logs should pass through the filter. Logs that match this query continue to downstream components; others are dropped.
- `inputs` (List of String) The inputs for the processor.


<a id="nestedblock--config--processors--parse_json"></a>
### Nested Schema for `config.processors.parse_json`

Required:

- `field` (String) The field to parse.
- `id` (String) The unique ID of the processor.
- `include` (String) A Datadog search query used to determine which logs this processor targets.
- `inputs` (List of String) The inputs for the processor.


<a id="nestedblock--config--processors--quota"></a>
### Nested Schema for `config.processors.quota`

Required:

- `drop_events` (Boolean) Whether to drop events exceeding the limit.
- `id` (String) The unique ID of the processor.
- `include` (String) A Datadog search query used to determine which logs this processor targets.
- `inputs` (List of String) The inputs for the processor.
- `name` (String) The name of the quota.

Optional:

- `ignore_when_missing_partitions` (Boolean) Whether to ignore when partition fields are missing.
- `limit` (Block, Optional) (see [below for nested schema](#nestedblock--config--processors--quota--limit))
- `overrides` (Block List) The overrides for field-specific quotas. (see [below for nested schema](#nestedblock--config--processors--quota--overrides))
- `partition_fields` (List of String) List of partition fields.

<a id="nestedblock--config--processors--quota--limit"></a>
### Nested Schema for `config.processors.quota.limit`

Required:

- `enforce` (String) Whether to enforce by 'bytes' or 'events'. Valid values are `bytes`, `events`.
- `limit` (Number) The daily quota limit.


<a id="nestedblock--config--processors--quota--overrides"></a>
### Nested Schema for `config.processors.quota.overrides`

Optional:

- `field` (Block List) Fields that trigger this override. (see [below for nested schema](#nestedblock--config--processors--quota--overrides--field))
- `limit` (Block, Optional) (see [below for nested schema](#nestedblock--config--processors--quota--overrides--limit))

<a id="nestedblock--config--processors--quota--overrides--field"></a>
### Nested Schema for `config.processors.quota.overrides.field`

Required:

- `name` (String) The field name.
- `value` (String) The field value.


<a id="nestedblock--config--processors--quota--overrides--limit"></a>
### Nested Schema for `config.processors.quota.overrides.limit`

Required:

- `enforce` (String) Whether to enforce by 'bytes' or 'events'. Valid values are `bytes`, `events`.
- `limit` (Number) The daily quota limit.




<a id="nestedblock--config--processors--remove_fields"></a>
### Nested Schema for `config.processors.remove_fields`

Required:

- `fields` (List of String) List of fields to remove from the events.
- `id` (String) The unique ID of the processor.
- `include` (String) A Datadog search query used to determine which logs this processor targets.
- `inputs` (List of String) The inputs for the processor.


<a id="nestedblock--config--processors--rename_fields"></a>
### Nested Schema for `config.processors.rename_fields`

Required:

- `id` (String) The unique ID of the processor.
- `include` (String) A Datadog search query used to determine which logs this processor targets.
- `inputs` (List of String) he inputs for the processor.

Optional:

- `field` (Block List) List of fields to rename. (see [below for nested schema](#nestedblock--config--processors--rename_fields--field))

<a id="nestedblock--config--processors--rename_fields--field"></a>
### Nested Schema for `config.processors.rename_fields.field`

Required:

- `destination` (String) Destination field name.
- `preserve_source` (Boolean) Whether to keep the original field.
- `source` (String) Source field to rename.




<a id="nestedblock--config--sources"></a>
### Nested Schema for `config.sources`

Optional:

- `datadog_agent` (Block List) The `datadog_agent` source collects logs from the Datadog Agent. (see [below for nested schema](#nestedblock--config--sources--datadog_agent))
- `kafka` (Block List) The `kafka` source ingests data from Apache Kafka topics. (see [below for nested schema](#nestedblock--config--sources--kafka))

<a id="nestedblock--config--sources--datadog_agent"></a>
### Nested Schema for `config.sources.datadog_agent`

Required:

- `id` (String) The unique ID of the source.

Optional:

- `tls` (Block List) Configuration for enabling TLS encryption between the pipeline component and external services. (see [below for nested schema](#nestedblock--config--sources--datadog_agent--tls))

<a id="nestedblock--config--sources--datadog_agent--tls"></a>
### Nested Schema for `config.sources.datadog_agent.tls`

Required:

- `crt_file` (String) Path to the TLS client certificate file used to authenticate the pipeline component with upstream or downstream services.

Optional:

- `ca_file` (String) Path to the Certificate Authority (CA) file used to validate the server’s TLS certificate.
- `key_file` (String) Path to the private key file associated with the TLS client certificate. Used for mutual TLS authentication.



<a id="nestedblock--config--sources--kafka"></a>
### Nested Schema for `config.sources.kafka`

Required:

- `group_id` (String) The Kafka consumer group ID.
- `id` (String) The unique ID of the source.
- `topics` (List of String) A list of Kafka topic names to subscribe to. The source ingests messages from each topic specified.

Optional:

- `librdkafka_option` (Block List) Advanced librdkafka client configuration options. (see [below for nested schema](#nestedblock--config--sources--kafka--librdkafka_option))
- `sasl` (Block, Optional) SASL authentication settings. (see [below for nested schema](#nestedblock--config--sources--kafka--sasl))
- `tls` (Block List) Configuration for enabling TLS encryption between the pipeline component and external services. (see [below for nested schema](#nestedblock--config--sources--kafka--tls))

<a id="nestedblock--config--sources--kafka--librdkafka_option"></a>
### Nested Schema for `config.sources.kafka.librdkafka_option`

Required:

- `name` (String) The name of the librdkafka option.
- `value` (String) The value of the librdkafka option.


<a id="nestedblock--config--sources--kafka--sasl"></a>
### Nested Schema for `config.sources.kafka.sasl`

Required:

- `mechanism` (String) SASL mechanism to use (e.g., PLAIN, SCRAM-SHA-256, SCRAM-SHA-512). Valid values are `PLAIN`, `SCRAM-SHA-256`, `SCRAM-SHA-512`.


<a id="nestedblock--config--sources--kafka--tls"></a>
### Nested Schema for `config.sources.kafka.tls`

Required:

- `crt_file` (String) Path to the TLS client certificate file used to authenticate the pipeline component with upstream or downstream services.

Optional:

- `ca_file` (String) Path to the Certificate Authority (CA) file used to validate the server’s TLS certificate.
- `key_file` (String) Path to the private key file associated with the TLS client certificate. Used for mutual TLS authentication.
