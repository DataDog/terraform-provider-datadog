---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "datadog_app_builder_app Resource - terraform-provider-datadog"
subcategory: ""
description: |-
  Provides a Datadog App resource for creating and managing Datadog Apps from App Builder using the JSON definition. To easily export an App for use with Terraform, use the export button in the Datadog App Builder UI. This resource requires a registered application key https://registry.terraform.io/providers/DataDog/datadog/latest/docs/resources/app_key_registration.
---

# datadog_app_builder_app (Resource)

Provides a Datadog App resource for creating and managing Datadog Apps from App Builder using the JSON definition. To easily export an App for use with Terraform, use the export button in the Datadog App Builder UI. This resource requires a [registered application key](https://registry.terraform.io/providers/DataDog/datadog/latest/docs/resources/app_key_registration).

## Example Usage

```terraform
variable "connection_id" {
  type    = string
  default = "11111111-2222-3333-4444-555555555555"
}

# Example App Builder App resource - loaded from a file (required for ${} syntax, else use $${} inline for escaping)
resource "datadog_app_builder_app" "example_app_from_file" {
  app_json = file("${path.module}/resource.json")
  action_query_names_to_connection_ids = {
    "listTeams0" = var.connection_id
  }
}

# Example App Builder App resource - inline with optional fields
resource "datadog_app_builder_app" "example_app_inline_optional" {
  name               = "Example Terraform App - Inline - Optional"
  description        = "Created using the Datadog provider in Terraform."
  root_instance_name = "grid0"
  published          = false

  action_query_names_to_connection_ids = {
    "listTeams0" = var.connection_id
  }

  app_json = jsonencode(
    {
      "queries" : [
        {
          "id" : "11111111-1111-1111-1111-111111111111",
          "type" : "action",
          "name" : "listTeams0",
          "events" : [],
          "properties" : {
            "spec" : {
              "fqn" : "com.datadoghq.dd.teams.listTeams",
              "connectionId" : "11111111-1111-1111-1111-111111111111",
              "inputs" : {}
            }
          }
        }
      ],
      "id" : "11111111-2222-3333-4444-555555555555",
      "components" : [
        {
          "events" : [],
          "name" : "grid0",
          "properties" : {
            "children" : []
          },
          "type" : "grid"
        }
      ],
      "description" : "This description will be overridden",
      "favorite" : false,
      "name" : "This name will be overridden",
      "rootInstanceName" : "This rootInstanceName will be overridden",
      "selfService" : false,
      "tags" : [],
      "connections" : [
        {
          "id" : "11111111-1111-1111-1111-111111111111",
          "name" : "A connection that will be overridden"
        }
      ],
      "deployment" : {
        "id" : "11111111-1111-1111-1111-111111111111",
        "app_version_id" : "00000000-0000-0000-0000-000000000000"
      }
    }
  )
}

variable "name" {
  type    = string
  default = "Example Terraform App - Inline - Escaped - Interpolated"
}
variable "description" {
  type    = string
  default = "Created using the Datadog provider in Terraform. Variable interpolation."
}
variable "root_instance_name" {
  type    = string
  default = "grid0"
}

# Example App Builder App resource - inline with escaped $${} syntax for Javascript and ${} for Terraform variables
resource "datadog_app_builder_app" "example_app_escaped_interpolated" {
  app_json = jsonencode(
    {
      "queries" : [
        {
          "id" : "11111111-1111-1111-1111-111111111111",
          "name" : "listTeams0",
          "type" : "action",
          "properties" : {
            "onlyTriggerManually" : false,
            "outputs" : "$${((outputs) => {// Use 'outputs' to reference the query's unformatted output.\n\n// TODO: Apply transformations to the raw query output\n\nreturn outputs.data.map(item => item.attributes.name);})(self.rawOutputs)}",
            "spec" : {
              "fqn" : "com.datadoghq.dd.teams.listTeams",
              "inputs" : {},
              "connectionId" : "${var.connection_id}"
            }
          }
        }
      ],
      "id" : "11111111-2222-3333-4444-555555555555",
      "components" : [
        {
          "events" : [],
          "name" : "grid0",
          "properties" : {
            "children" : []
          },
          "type" : "grid"
        }
      ],
      "description" : "${var.description}",
      "favorite" : false,
      "name" : "${var.name}",
      "rootInstanceName" : "${var.root_instance_name}",
      "selfService" : false,
      "tags" : [],
      "connections" : [
        {
          "id" : "${var.connection_id}",
          "name" : "A connection that will be overridden"
        }
      ],
      "deployment" : {
        "id" : "11111111-1111-1111-1111-111111111111",
        "app_version_id" : "00000000-0000-0000-0000-000000000000"
      }
    }
  )
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `app_json` (String) The JSON representation of the App. String length must be at least 1.

### Optional

- `action_query_names_to_connection_ids` (Map of String) If specified, this will override the Action Connection IDs for the specified Action Query Names in the App JSON. Otherwise, a map of the App's Action Query Names to Action Connection IDs will be returned in output.
- `description` (String) If specified, this will override the human-readable description of the App in the App JSON. String length must be at least 1.
- `name` (String) If specified, this will override the name of the App in the App JSON. String length must be at least 1.
- `published` (Boolean) Set the app to published or unpublished. Published apps are available to other users. To ensure the app is accessible to the correct users, you also need to set a [Restriction Policy](https://docs.datadoghq.com/api/latest/restriction-policies/) on the app if a policy does not yet exist. Defaults to `false`.
- `root_instance_name` (String) The name of the root component of the app. This must be a grid component that contains all other components. If specified, this will override the root instance name of the App in the App JSON. String length must be at least 1.

### Read-Only

- `id` (String) The ID of this resource.

## Import

Import is supported using the following syntax:

The [`terraform import` command](https://developer.hashicorp.com/terraform/cli/commands/import) can be used, for example:

```shell
terraform import datadog_app_builder_app.my_app 11111111-2222-3333-4444-555555555555
```
