---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "datadog_tag_pipeline_ruleset Resource - terraform-provider-datadog"
subcategory: ""
description: |-
  Provides a Datadog Tag Pipeline Ruleset resource.
---

# datadog_tag_pipeline_ruleset (Resource)

Provides a Datadog Tag Pipeline Ruleset resource.

## Example Usage

```terraform
resource "datadog_tag_pipeline_ruleset" "example" {
  name    = "Complete Tag Pipeline Example"
  enabled = true

  rules {
    name    = "standardize-environment"
    enabled = true

    mapping {
      destination_key = "env"
      if_not_exists   = true
      source_keys     = ["environment", "stage", "tier"]
    }
  }

  rules {
    name    = "assign-team-tags"
    enabled = true

    query {
      query              = "service:web* OR service:frontend*"
      case_insensitivity = true
      if_not_exists      = true

      addition {
        key   = "team"
        value = "frontend"
      }
    }
  }

  rules {
    name    = "enrich-service-metadata"
    enabled = true

    reference_table {
      table_name         = "service_catalog"
      case_insensitivity = true
      if_not_exists      = true
      source_keys        = ["service"]

      field_pairs {
        input_column = "owner_team"
        output_key   = "owner"
      }

      field_pairs {
        input_column = "business_unit"
        output_key   = "business_unit"
      }
    }
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `name` (String) The name of the ruleset.

### Optional

- `enabled` (Boolean) Whether the ruleset is enabled.
- `rules` (Block List) The rules in the ruleset. (see [below for nested schema](#nestedblock--rules))

### Read-Only

- `id` (String) The ID of the ruleset.
- `position` (Number) The position of the ruleset in the pipeline.
- `version` (Number) The version of the ruleset.

<a id="nestedblock--rules"></a>
### Nested Schema for `rules`

Required:

- `enabled` (Boolean) Whether the rule is enabled.
- `name` (String) The name of the rule.

Optional:

- `mapping` (Block, Optional) The mapping configuration for the rule. (see [below for nested schema](#nestedblock--rules--mapping))
- `query` (Block, Optional) The query configuration for the rule. (see [below for nested schema](#nestedblock--rules--query))
- `reference_table` (Block, Optional) The reference table configuration for the rule. (see [below for nested schema](#nestedblock--rules--reference_table))

Read-Only:

- `metadata` (Map of String) Rule metadata key-value pairs.

<a id="nestedblock--rules--mapping"></a>
### Nested Schema for `rules.mapping`

Optional:

- `destination_key` (String) The destination key for the mapping.
- `if_not_exists` (Boolean) Whether to apply the mapping only if the destination key doesn't exist.
- `source_keys` (List of String) The source keys for the mapping.


<a id="nestedblock--rules--query"></a>
### Nested Schema for `rules.query`

Optional:

- `addition` (Block, Optional) The addition configuration for the query. (see [below for nested schema](#nestedblock--rules--query--addition))
- `case_insensitivity` (Boolean) Whether the query matching is case insensitive.
- `if_not_exists` (Boolean) Whether to apply the query only if the key doesn't exist.
- `query` (String) The query string.

<a id="nestedblock--rules--query--addition"></a>
### Nested Schema for `rules.query.addition`

Optional:

- `key` (String) The key to add.
- `value` (String) The value to add.



<a id="nestedblock--rules--reference_table"></a>
### Nested Schema for `rules.reference_table`

Optional:

- `case_insensitivity` (Boolean) Whether the reference table lookup is case insensitive.
- `field_pairs` (Block List) The field pairs for the reference table. (see [below for nested schema](#nestedblock--rules--reference_table--field_pairs))
- `if_not_exists` (Boolean) Whether to apply the reference table only if the key doesn't exist.
- `source_keys` (List of String) The source keys for the reference table lookup.
- `table_name` (String) The name of the reference table.

<a id="nestedblock--rules--reference_table--field_pairs"></a>
### Nested Schema for `rules.reference_table.field_pairs`

Optional:

- `input_column` (String) The input column name.
- `output_key` (String) The output key name.

## Import

Import is supported using the following syntax:

The [`terraform import` command](https://developer.hashicorp.com/terraform/cli/commands/import) can be used, for example:

```shell
terraform import datadog_tag_pipeline_ruleset.example "your-ruleset-id-here"
```
