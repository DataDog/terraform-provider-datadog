---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "datadog_logs_custom_destination Resource - terraform-provider-datadog"
subcategory: ""
description: |-
  Provides a Datadog Logs Custom Destination API resource, which is used to create and manage Datadog log forwarding.
---

# datadog_logs_custom_destination (Resource)

Provides a Datadog Logs Custom Destination API resource, which is used to create and manage Datadog log forwarding.

## Example Usage

```terraform
resource "datadog_logs_custom_destination" "sample_destination" {
  name    = "sample destination"
  query   = "service:my-service"
  enabled = true

  http_destination {
    endpoint = "https://example.org"
    basic_auth {
      username = "my-username"
      password = "my-password"
    }
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `name` (String) The custom destination name.

### Optional

- `elasticsearch_destination` (Block List) The Elasticsearch destination. (see [below for nested schema](#nestedblock--elasticsearch_destination))
- `enabled` (Boolean) Whether logs matching this custom destination should be forwarded or not.
- `forward_tags` (Boolean) Whether tags from the forwarded logs should be forwarded or not.
- `forward_tags_restriction_list` (List of String) List of [tag keys](https://docs.datadoghq.com/getting_started/tagging/#define-tags) to be filtered.
				An empty list represents no restriction is in place and either all or no tags will be
				forwarded depending on `forward_tags_restriction_list_type` parameter.
- `forward_tags_restriction_list_type` (String) How the `forward_tags_restriction_list` parameter should be interpreted.
				If `ALLOW_LIST`, then only tags whose keys on the forwarded logs match the ones on the restriction list
				are forwarded.
				`BLOCK_LIST` works the opposite way. It does not forward the tags matching the ones on the list. Valid values are `ALLOW_LIST`, `BLOCK_LIST`.
- `http_destination` (Block List) The HTTP destination. (see [below for nested schema](#nestedblock--http_destination))
- `query` (String) The custom destination query filter. Logs matching this query are forwarded to the destination.
- `splunk_destination` (Block List) The Splunk HTTP Event Collector (HEC) destination. (see [below for nested schema](#nestedblock--splunk_destination))

### Read-Only

- `id` (String) The ID of this resource.

<a id="nestedblock--elasticsearch_destination"></a>
### Nested Schema for `elasticsearch_destination`

Required:

- `endpoint` (String) The destination for which logs will be forwarded to. Must have HTTPS scheme. Forwarding back to Datadog is not allowed.
- `index_name` (String) Name of the Elasticsearch index (must follow [Elasticsearch's criteria](https://www.elastic.co/guide/en/elasticsearch/reference/8.11/indices-create-index.html#indices-create-api-path-params)).

Optional:

- `basic_auth` (Block List) Basic access authentication. (see [below for nested schema](#nestedblock--elasticsearch_destination--basic_auth))
- `index_rotation` (String) Date pattern with US locale and UTC timezone to be appended to the index name after adding '-'
							(that is, '${index_name}-${indexPattern}').
							You can customize the index rotation naming pattern by choosing one of these options:
							- Hourly: 'yyyy-MM-dd-HH' (as an example, it would render: '2022-10-19-09')
							- Daily: 'yyyy-MM-dd' (as an example, it would render: '2022-10-19')
							- Weekly: 'yyyy-'W'ww' (as an example, it would render: '2022-W42')
							- Monthly: 'yyyy-MM' (as an example, it would render: '2022-10')
							If this field is missing or is blank, it means that the index name will always be the same
							(that is, no rotation).

<a id="nestedblock--elasticsearch_destination--basic_auth"></a>
### Nested Schema for `elasticsearch_destination.basic_auth`

Required:

- `password` (String, Sensitive) The password of the authentication. This field is not returned by the API.
- `username` (String, Sensitive) The username of the authentication. This field is not returned by the API.



<a id="nestedblock--http_destination"></a>
### Nested Schema for `http_destination`

Required:

- `endpoint` (String) The destination for which logs will be forwarded to. Must have HTTPS scheme. Forwarding back to Datadog is not allowed.

Optional:

- `basic_auth` (Block List) Basic access authentication. (see [below for nested schema](#nestedblock--http_destination--basic_auth))
- `custom_header_auth` (Block List) Custom header access authentication. (see [below for nested schema](#nestedblock--http_destination--custom_header_auth))

<a id="nestedblock--http_destination--basic_auth"></a>
### Nested Schema for `http_destination.basic_auth`

Required:

- `password` (String, Sensitive) The password of the authentication. This field is not returned by the API.
- `username` (String, Sensitive) The username of the authentication. This field is not returned by the API.


<a id="nestedblock--http_destination--custom_header_auth"></a>
### Nested Schema for `http_destination.custom_header_auth`

Required:

- `header_name` (String) The header name of the authentication.
- `header_value` (String, Sensitive) The header value of the authentication. This field is not returned by the API.



<a id="nestedblock--splunk_destination"></a>
### Nested Schema for `splunk_destination`

Required:

- `access_token` (String, Sensitive) Access token of the Splunk HTTP Event Collector. This field is not returned by the API.
- `endpoint` (String) The destination for which logs will be forwarded to. Must have HTTPS scheme. Forwarding back to Datadog is not allowed.

## Import

Import is supported using the following syntax:

```shell
# Custom destinations can be imported using the destination ID. Caution: auth credentials can not be imported.
terraform import datadog_logs_custom_destination.sample_destination "destination-id"
```
