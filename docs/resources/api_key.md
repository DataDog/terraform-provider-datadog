---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "datadog_api_key Resource - terraform-provider-datadog"
subcategory: ""
description: |-
  Provides a Datadog API Key resource. This can be used to create and manage Datadog API Keys. Import functionality for this resource is deprecated and will be removed in a future release with prior notice. Securely store your API keys using a secret management system or use this resource to create and manage new API keys.
---

# datadog_api_key (Resource)

Provides a Datadog API Key resource. This can be used to create and manage Datadog API Keys. Import functionality for this resource is deprecated and will be removed in a future release with prior notice. Securely store your API keys using a secret management system or use this resource to create and manage new API keys.

## Example Usage

```terraform
# Create a new Datadog API Key
resource "datadog_api_key" "foo" {
  name = "foo-application"
}

# Encrypted API key with AWS Secrets Manager integration (Terraform 1.11+)
variable "encryption_key" {
  type        = string
  description = "32-byte encryption key"
  sensitive   = true
}

resource "datadog_api_key" "example" {
  name              = "my-api-key"
  encryption_key_wo = var.encryption_key
}

# Only decrypt when encrypted_key is available
# After secret is stored in Secrets Manager, you can remove encryption_key_wo
# and this block will be skipped on future runs
ephemeral "datadog_secret_decrypt" "api_key" {
  count             = datadog_api_key.example.encrypted_key != null ? 1 : 0
  ciphertext        = datadog_api_key.example.encrypted_key
  encryption_key_wo = var.encryption_key
}

resource "aws_secretsmanager_secret" "datadog_api_key" {
  name = "datadog-api-key"
}

# Use try() to handle the case where decrypter wasn't created
resource "aws_secretsmanager_secret_version" "api_key" {
  secret_id        = aws_secretsmanager_secret.datadog_api_key.id
  secret_string_wo = try(ephemeral.datadog_secret_decrypt.api_key[0].value, "")
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `name` (String) Name for API Key.

### Optional

> **NOTE**: [Write-only arguments](https://developer.hashicorp.com/terraform/language/resources/ephemeral#write-only-arguments) are supported in Terraform 1.11 and later.

- `encryption_key_wo` (String, Sensitive, [Write-only](https://developer.hashicorp.com/terraform/language/resources/ephemeral#write-only-arguments)) Write-only encryption key (32 bytes). Source from an ephemeral resource like `ephemeral.random_password`. Used to encrypt computed secrets before storing in state. The key is never persisted. Requires Terraform 1.11+.
- `remote_config_read_enabled` (Boolean) Whether the API key is used for remote config. Set to true only if remote config is enabled in `/organization-settings/remote-config`.

### Read-Only

- `encrypted_key` (String) The encrypted value of the API Key. Only populated when `encryption_key_wo` is provided. Use the `datadog_secret_decrypt` ephemeral resource to decrypt this value. **Warning:** This attribute is intended only for a transfer to a secret manager. The encryption format may change in future provider versions without notice resulting in decryption failure if attempted.
- `id` (String) The ID of this resource.
- `key` (String, Sensitive) The value of the API Key. Mutually exclusive with `encrypted_key` when `encryption_key_wo` is set.

## Import

Import is supported using the following syntax:

The [`terraform import` command](https://developer.hashicorp.com/terraform/cli/commands/import) can be used, for example:

```shell
terraform import datadog_api_key.foo 11111111-2222-3333-4444-555555555555
```
