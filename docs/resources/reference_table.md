---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "datadog_reference_table Resource - terraform-provider-datadog"
subcategory: ""
description: |-
  Provides a Datadog Reference Table resource for cloud storage sources (S3, GCS, Azure). This can be used to create and manage Datadog reference tables that sync data from cloud storage.
---

# datadog_reference_table (Resource)

Provides a Datadog Reference Table resource for cloud storage sources (S3, GCS, Azure). This can be used to create and manage Datadog reference tables that sync data from cloud storage.

## Example Usage

```terraform
# Create a reference table from an S3 bucket
resource "datadog_reference_table" "s3_table" {
  table_name  = "products_catalog"
  description = "Product catalog synced from S3"
  source      = "S3"

  file_metadata {
    sync_enabled = true

    access_details {
      aws_detail {
        aws_account_id  = "123456789000"
        aws_bucket_name = "my-data-bucket"
        file_path       = "reference-tables/products.csv"
      }
    }
  }

  schema {
    primary_keys = ["product_id"]

    fields {
      name = "product_id"
      type = "STRING"
    }

    fields {
      name = "product_name"
      type = "STRING"
    }

    fields {
      name = "category"
      type = "STRING"
    }

    fields {
      name = "price_cents"
      type = "INT32"
    }
  }

  tags = [
    "source:s3",
    "team:catalog",
    "env:production"
  ]
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `source` (String) The source type for the reference table. Must be one of: S3, GCS, AZURE. Valid values are `S3`, `GCS`, `AZURE`.
- `table_name` (String) The name of the reference table. This must be unique within your organization.

### Optional

- `description` (String) The description of the reference table.
- `file_metadata` (Block, Optional) Configuration for cloud storage file access and sync settings. (see [below for nested schema](#nestedblock--file_metadata))
- `schema` (Block, Optional) The schema definition for the reference table, including field definitions and primary keys. Schema is only set on create; updates are derived from the file asynchronously. (see [below for nested schema](#nestedblock--schema))
- `tags` (List of String) A list of tags to associate with the reference table.

### Read-Only

- `created_by` (String) UUID of the user who created the reference table.
- `id` (String) The ID of this resource.
- `last_updated_by` (String) UUID of the user who last updated the reference table.
- `row_count` (Number) The number of successfully processed rows in the reference table.
- `status` (String) The status of the reference table (e.g., DONE, PROCESSING, ERROR).
- `updated_at` (String) The timestamp of the last update to the reference table in ISO 8601 format.

<a id="nestedblock--file_metadata"></a>
### Nested Schema for `file_metadata`

Required:

- `sync_enabled` (Boolean) Whether this table should automatically sync with the cloud storage source.

Optional:

- `access_details` (Block, Optional) Cloud storage access configuration. Exactly one of aws_detail, gcp_detail, or azure_detail must be specified. (see [below for nested schema](#nestedblock--file_metadata--access_details))

Read-Only:

- `error_message` (String) Error message from the last sync attempt, if any.
- `error_row_count` (Number) The number of rows that failed to sync.
- `error_type` (String) The type of error that occurred during file processing.

<a id="nestedblock--file_metadata--access_details"></a>
### Nested Schema for `file_metadata.access_details`

Optional:

- `aws_detail` (Block, Optional) AWS S3 access configuration. Required when source is S3. (see [below for nested schema](#nestedblock--file_metadata--access_details--aws_detail))
- `azure_detail` (Block, Optional) Azure Blob Storage access configuration. Required when source is AZURE. (see [below for nested schema](#nestedblock--file_metadata--access_details--azure_detail))
- `gcp_detail` (Block, Optional) Google Cloud Storage access configuration. Required when source is GCS. (see [below for nested schema](#nestedblock--file_metadata--access_details--gcp_detail))

<a id="nestedblock--file_metadata--access_details--aws_detail"></a>
### Nested Schema for `file_metadata.access_details.aws_detail`

Optional:

- `aws_account_id` (String) The ID of the AWS account.
- `aws_bucket_name` (String) The name of the Amazon S3 bucket.
- `file_path` (String) The relative file path from the S3 bucket root to the CSV file.


<a id="nestedblock--file_metadata--access_details--azure_detail"></a>
### Nested Schema for `file_metadata.access_details.azure_detail`

Optional:

- `azure_client_id` (String) The Azure client ID (application ID).
- `azure_container_name` (String) The name of the Azure container.
- `azure_storage_account_name` (String) The name of the Azure storage account.
- `azure_tenant_id` (String) The ID of the Azure tenant.
- `file_path` (String) The relative file path from the Azure container root to the CSV file.


<a id="nestedblock--file_metadata--access_details--gcp_detail"></a>
### Nested Schema for `file_metadata.access_details.gcp_detail`

Optional:

- `file_path` (String) The relative file path from the GCS bucket root to the CSV file.
- `gcp_bucket_name` (String) The name of the GCP bucket.
- `gcp_project_id` (String) The ID of the GCP project.
- `gcp_service_account_email` (String) The email of the GCP service account used to access the bucket.




<a id="nestedblock--schema"></a>
### Nested Schema for `schema`

Optional:

- `fields` (Block List) List of fields in the table schema. Must include at least one field. Schema is only set on create. (see [below for nested schema](#nestedblock--schema--fields))
- `primary_keys` (List of String) List of field names that serve as primary keys for the table. Currently only one primary key is supported.

<a id="nestedblock--schema--fields"></a>
### Nested Schema for `schema.fields`

Optional:

- `name` (String) The name of the field.
- `type` (String) The data type of the field. Must be one of: STRING, INT32. Valid values are `STRING`, `INT32`.

## Import

Import is supported using the following syntax:

The [`terraform import` command](https://developer.hashicorp.com/terraform/cli/commands/import) can be used, for example:

```shell
#!/bin/bash
# Import an existing reference table by its UUID

terraform import datadog_reference_table.imported_table "00000000-0000-0000-0000-000000000000"

# After importing, add the resource configuration to your .tf file:
# 
# resource "datadog_reference_table" "imported_table" {
#   table_name  = "existing_table"
#   description = "Previously created table"
#   source      = "S3"  # or "GCS" or "AZURE"
#   
#   file_metadata {
#     sync_enabled = true
#     
#     access_details {
#       aws_detail {
#         aws_account_id  = "123456789000"
#         aws_bucket_name = "existing-bucket"
#         file_path       = "data/existing.csv"
#       }
#     }
#   }
#   
#   schema {
#     primary_keys = ["id"]
#     
#     fields {
#       name = "id"
#       type = "STRING"
#     }
#     
#     fields {
#       name = "value"
#       type = "STRING"
#     }
#   }
#   
#   tags = ["imported:true"]
# }
```
