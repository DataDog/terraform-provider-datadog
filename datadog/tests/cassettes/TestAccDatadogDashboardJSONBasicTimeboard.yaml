---
version: 2
interactions:
    - id: 0
      request:
        proto: HTTP/1.1
        proto_major: 1
        proto_minor: 1
        content_length: 13751
        transfer_encoding: []
        trailer: {}
        host: api.datadoghq.com
        remote_addr: ""
        request_uri: ""
        body: "{\n   \"author_handle\":\"removed_handle\",\n   \"title\":\"tf-TestAccDatadogDashboardJSONBasicTimeboard-local-1758619406\",\n   \"description\":\"Created using the Datadog provider in Terraform\",\n   \"widgets\":[\n      {\n         \"definition\":{\n            \"title\":\"Widget Title\",\n            \"type\":\"alert_graph\",\n            \"alert_id\":\"895605\",\n            \"viz_type\":\"timeseries\"\n         }\n      },\n      {\n         \"definition\":{\n            \"title\":\"Widget Title\",\n            \"type\":\"alert_value\",\n            \"alert_id\":\"895605\",\n            \"unit\":\"b\",\n            \"text_align\":\"center\",\n            \"precision\":3\n         }\n      },\n      {\n         \"id\":5436370674582587,\n         \"definition\":{\n            \"title\":\"Widget Title\",\n            \"type\":\"alert_value\",\n            \"alert_id\":\"895605\",\n            \"unit\":\"b\",\n            \"text_align\":\"center\",\n            \"precision\":3\n         }\n      },\n      {\n         \"id\":3887046970315839,\n         \"definition\":{\n            \"title\":\"Widget Title\",\n            \"type\":\"change\",\n            \"requests\":[\n               {\n                  \"q\":\"avg:system.load.1{env:staging} by {account}\",\n                  \"compare_to\":\"week_before\",\n                  \"order_by\":\"name\",\n                  \"order_dir\":\"desc\",\n                  \"increase_good\":true,\n                  \"change_type\":\"absolute\",\n                  \"show_present\":true\n               }\n            ]\n         }\n      },\n      {\n         \"id\":1219518175048191,\n         \"definition\":{\n            \"title\":\"Widget Title\",\n            \"show_legend\":false,\n            \"type\":\"distribution\",\n            \"requests\":[\n               {\n                  \"q\":\"avg:system.load.1{env:staging} by {account}\",\n                  \"style\":{\n                     \"palette\":\"warm\"\n                  }\n               }\n            ]\n         }\n      },\n      {\n         \"id\":6039041238503416,\n         \"definition\":{\n            \"title\":\"Widget Title\",\n            \"type\":\"check_status\",\n            \"check\":\"aws.ecs.agent_connected\",\n            \"grouping\":\"cluster\",\n            \"group_by\":[\n               \"account\",\n               \"cluster\"\n            ],\n            \"tags\":[\n               \"account:demo\",\n               \"cluster:awseb-ruthebdog-env-8-dn3m6u3gvk\"\n            ]\n         }\n      },\n      {\n         \"id\":5186844025489598,\n         \"definition\":{\n            \"title\":\"Widget Title\",\n            \"show_legend\":false,\n            \"type\":\"heatmap\",\n            \"yaxis\":{\n               \"scale\":\"sqrt\",\n               \"include_zero\":true,\n               \"min\":\"1\",\n               \"max\":\"2\"\n            },\n            \"requests\":[\n               {\n                  \"q\":\"avg:system.load.1{env:staging} by {account}\",\n                  \"style\":{\n                     \"palette\":\"warm\"\n                  }\n               }\n            ]\n         }\n      },\n      {\n         \"id\":6742660811820435,\n         \"definition\":{\n            \"title\":\"Widget Title\",\n            \"type\":\"hostmap\",\n            \"requests\":{\n               \"fill\":{\n                  \"q\":\"avg:system.load.1{*} by {host}\"\n               },\n               \"size\":{\n                  \"q\":\"avg:memcache.uptime{*} by {host}\"\n               }\n            },\n            \"node_type\":\"container\",\n            \"no_metric_hosts\":true,\n            \"no_group_hosts\":true,\n            \"group\":[\n               \"host\",\n               \"region\"\n            ],\n            \"scope\":[\n               \"region:us-east-1\",\n               \"aws_account:727006795293\"\n            ],\n            \"style\":{\n               \"palette\":\"yellow_to_green\",\n               \"palette_flip\":true,\n               \"fill_min\":\"10\",\n               \"fill_max\":\"20\"\n            }\n         }\n      },\n      {\n         \"id\":1986924343921271,\n         \"definition\":{\n            \"type\":\"note\",\n            \"content\":\"note text\",\n            \"background_color\":\"pink\",\n            \"font_size\":\"14\",\n            \"text_align\":\"center\",\n            \"show_tick\":true,\n            \"tick_pos\":\"50%\",\n            \"tick_edge\":\"left\"\n         }\n      },\n      {\n         \"id\":3043237513486645,\n         \"definition\":{\n            \"title\":\"Widget Title\",\n            \"type\":\"query_value\",\n            \"requests\":[\n               {\n                  \"q\":\"avg:system.load.1{env:staging} by {account}\",\n                  \"aggregator\":\"sum\",\n                  \"conditional_formats\":[\n                     {\n                        \"hide_value\":false,\n                        \"comparator\":\"<\",\n                        \"palette\":\"white_on_green\",\n                        \"value\":2\n                     },\n                     {\n                        \"hide_value\":false,\n                        \"comparator\":\">\",\n                        \"palette\":\"white_on_red\",\n                        \"value\":2.2\n                     }\n                  ]\n               }\n            ],\n            \"autoscale\":true,\n            \"custom_unit\":\"xx\",\n            \"text_align\":\"right\",\n            \"precision\":4\n         }\n      },\n      {\n         \"id\":8636154599297416,\n         \"definition\":{\n            \"title\":\"Widget Title\",\n            \"type\":\"query_table\",\n            \"requests\":[\n               {\n                  \"q\":\"avg:system.load.1{env:staging} by {account}\",\n                  \"aggregator\":\"sum\",\n                  \"conditional_formats\":[\n                     {\n                        \"hide_value\":false,\n                        \"comparator\":\"<\",\n                        \"palette\":\"white_on_green\",\n                        \"value\":2\n                     },\n                     {\n                        \"hide_value\":false,\n                        \"comparator\":\">\",\n                        \"palette\":\"white_on_red\",\n                        \"value\":2.2\n                     }\n                  ],\n                  \"limit\":10\n               }\n            ]\n         }\n      },\n      {\n         \"id\":518322985317720,\n         \"definition\":{\n            \"title\":\"Widget Title\",\n            \"type\":\"scatterplot\",\n            \"requests\":{\n               \"x\":{\n                  \"q\":\"avg:system.cpu.user{*} by {service, account}\",\n                  \"aggregator\":\"max\"\n               },\n               \"y\":{\n                  \"q\":\"avg:system.mem.used{*} by {service, account}\",\n                  \"aggregator\":\"min\"\n               }\n            },\n            \"xaxis\":{\n               \"scale\":\"pow\",\n               \"label\":\"x\",\n               \"include_zero\":true,\n               \"min\":\"1\",\n               \"max\":\"2000\"\n            },\n            \"yaxis\":{\n               \"scale\":\"log\",\n               \"label\":\"y\",\n               \"include_zero\":false,\n               \"min\":\"5\",\n               \"max\":\"2222\"\n            },\n            \"color_by_groups\":[\n               \"account\",\n               \"apm-role-group\"\n            ]\n         }\n      },\n      {\n         \"id\":4913548056140044,\n         \"definition\":{\n            \"title\":\"env: prod, datacenter:dc1, service: master-db\",\n            \"title_size\":\"16\",\n            \"title_align\":\"left\",\n            \"type\":\"servicemap\",\n            \"service\":\"master-db\",\n            \"filters\":[\n               \"env:prod\",\n               \"datacenter:dc1\"\n            ]\n         }\n      },\n      {\n         \"id\":215209954480975,\n         \"definition\":{\n            \"title\":\"Widget Title\",\n            \"show_legend\":true,\n            \"legend_size\":\"2\",\n            \"type\":\"timeseries\",\n            \"requests\":[\n               {\n                  \"q\":\"avg:system.cpu.user{app:general} by {env}\",\n                  \"on_right_yaxis\":false,\n                  \"metadata\":[\n                     {\n                        \"expression\":\"avg:system.cpu.user{app:general} by {env}\",\n                        \"alias_name\":\"Alpha\"\n                     }\n                  ],\n                  \"style\":{\n                     \"palette\":\"warm\",\n                     \"line_type\":\"dashed\",\n                     \"line_width\":\"thin\"\n                  },\n                  \"display_type\":\"line\"\n               },\n               {\n                  \"on_right_yaxis\":false,\n                  \"log_query\":{\n                     \"index\":\"mcnulty\",\n                     \"search\":{\n                        \"query\":\"status:info\"\n                     },\n                     \"group_by\":[\n                        {\n                           \"facet\":\"host\",\n                           \"sort\":{\n                              \"facet\":\"@duration\",\n                              \"aggregation\":\"avg\",\n                              \"order\":\"desc\"\n                           },\n                           \"limit\":10\n                        }\n                     ],\n                     \"compute\":{\n                        \"facet\":\"@duration\",\n                        \"interval\":5000,\n                        \"aggregation\":\"avg\"\n                     }\n                  },\n                  \"display_type\":\"area\"\n               },\n               {\n                  \"on_right_yaxis\":false,\n                  \"apm_query\":{\n                     \"index\":\"apm-search\",\n                     \"search\":{\n                        \"query\":\"type:web\"\n                     },\n                     \"group_by\":[\n                        {\n                           \"facet\":\"resource_name\",\n                           \"sort\":{\n                              \"facet\":\"@string_query.interval\",\n                              \"aggregation\":\"avg\",\n                              \"order\":\"desc\"\n                           },\n                           \"limit\":50\n                        }\n                     ],\n                     \"compute\":{\n                        \"facet\":\"@duration\",\n                        \"interval\":5000,\n                        \"aggregation\":\"avg\"\n                     }\n                  },\n                  \"display_type\":\"bars\"\n               },\n               {\n                  \"on_right_yaxis\":false,\n                  \"process_query\":{\n                     \"search_by\":\"error\",\n                     \"metric\":\"process.stat.cpu.total_pct\",\n                     \"limit\":50,\n                     \"filter_by\":[\n                        \"active\"\n                     ]\n                  },\n                  \"display_type\":\"area\"\n               }\n            ],\n            \"yaxis\":{\n               \"scale\":\"log\",\n               \"include_zero\":false,\n               \"max\":\"100\"\n            },\n            \"events\":[\n               {\n                  \"q\":\"sources:test tags:1\"\n               },\n               {\n                  \"q\":\"sources:test tags:2\"\n               }\n            ],\n            \"markers\":[\n               {\n                  \"label\":\" z=6 \",\n                  \"value\":\"y = 4\",\n                  \"display_type\":\"error dashed\"\n               },\n               {\n                  \"label\":\" x=8 \",\n                  \"value\":\"10 < y < 999\",\n                  \"display_type\":\"ok solid\"\n               }\n            ]\n         }\n      },\n      {\n         \"id\":8114292022885770,\n         \"definition\":{\n            \"title\":\"Widget Title\",\n            \"type\":\"toplist\",\n            \"requests\":[\n               {\n                  \"q\":\"avg:system.cpu.user{app:general} by {env}\",\n                  \"conditional_formats\":[\n                     {\n                        \"hide_value\":false,\n                        \"comparator\":\"<\",\n                        \"palette\":\"white_on_green\",\n                        \"value\":2\n                     },\n                     {\n                        \"hide_value\":false,\n                        \"comparator\":\">\",\n                        \"palette\":\"white_on_red\",\n                        \"value\":2.2\n                     }\n                  ]\n               }\n            ]\n         }\n      },\n      {\n         \"id\":444605829496771,\n         \"definition\":{\n            \"title\":\"Group Widget\",\n            \"type\":\"group\",\n            \"layout_type\":\"ordered\",\n            \"widgets\":[\n               {\n                  \"definition\":{\n                     \"type\":\"note\",\n                     \"content\":\"cluster note widget\",\n                     \"background_color\":\"pink\",\n                     \"font_size\":\"14\",\n                     \"text_align\":\"center\",\n                     \"show_tick\":true,\n                     \"tick_pos\":\"50%\",\n                     \"tick_edge\":\"left\"\n                  }\n               },\n               {\n                  \"id\":8096017487317681,\n                  \"definition\":{\n                     \"title\":\"Alert Graph\",\n                     \"type\":\"alert_graph\",\n                     \"alert_id\":\"123\",\n                     \"viz_type\":\"toplist\"\n                  }\n               }\n            ]\n         }\n      },\n      {\n         \"definition\":{\n            \"title\":\"Widget Title\",\n            \"type\":\"slo\",\n            \"view_type\":\"detail\",\n            \"time_windows\":[\n               \"7d\",\n               \"previous_week\"\n            ],\n            \"slo_id\":\"56789\",\n            \"show_error_budget\":true,\n            \"view_mode\":\"overall\",\n            \"global_time_target\":\"0\"\n         }\n      }\n   ],\n   \"template_variables\":[\n      {\n         \"name\":\"var_1\",\n         \"default\":\"aws\",\n         \"prefix\":\"host\"\n      },\n      {\n         \"name\":\"var_2\",\n         \"default\":\"autoscaling\",\n         \"prefix\":\"service_name\"\n      }\n   ],\n   \"layout_type\":\"ordered\",\n   \"is_read_only\":true,\n   \"notify_list\":[\n      \n   ],\n   \"template_variable_presets\":[\n      {\n         \"name\":\"preset_1\",\n         \"template_variables\":[\n            {\n               \"name\":\"var_1\",\n               \"value\":\"host.dc\"\n            },\n            {\n               \"name\":\"var_2\",\n               \"value\":\"my_service\"\n            }\n         ]\n      }\n   ],\n   \"id\":\"5uw-bbj-xec\"\n}\n"
        form: {}
        headers:
            Content-Type:
                - application/json
        url: https://api.datadoghq.com/api/v1/dashboard
        method: POST
      response:
        proto: HTTP/1.1
        proto_major: 1
        proto_minor: 1
        transfer_encoding:
            - chunked
        trailer: {}
        content_length: -1
        uncompressed: true
        body: '{"errors":[{"id":null,"links":null,"status":"HTTPStatus.BAD_REQUEST","code":null,"title":"Bad Request","detail":"The is_read_only attribute is no longer supported. https://docs.datadoghq.com/dashboards/guide/is-read-only-deprecation/","source":null,"meta":null}]}'
        headers:
            Content-Type:
                - application/vnd.api+json
        status: 400 Bad Request
        code: 400
        duration: 220.496916ms
