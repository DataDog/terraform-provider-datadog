---
version: 1
interactions:
- request:
    body: |
      {"description":"Created using the Datadog provider in Terraform","id":"","is_read_only":true,"layout_type":"ordered","notify_list":[],"template_variable_presets":[{"name":"preset_1","template_variables":[{"name":"var_1","value":"var_1_value"},{"name":"var_2","value":"var_2_value"}]},{"name":"preset_2","template_variables":[{"name":"var_1","value":"var_1_value"}]},{"name":"preset_3","template_variables":[]}],"template_variables":[{"default":"aws","name":"var_1","prefix":"host"},{"default":"autoscaling","name":"var_2","prefix":"service_name"}],"title":"tf-TestAccDatadogDashboard_update-local-1627050858","widgets":[{"definition":{"alert_id":"895605","time":{"live_span":"1h"},"title":"Widget Title","type":"alert_graph","viz_type":"timeseries"}},{"definition":{"alert_id":"895605","precision":3,"text_align":"center","title":"Widget Title","type":"alert_value","unit":"b"}},{"definition":{"requests":[{"change_type":"absolute","compare_to":"week_before","increase_good":true,"order_by":"name","order_dir":"desc","q":"avg:system.load.1{env:staging} by {account}","show_present":true}],"time":{"live_span":"1h"},"title":"Widget Title","type":"change"}},{"definition":{"requests":[{"q":"avg:system.load.1{env:staging} by {account}","style":{"palette":"warm"}}],"show_legend":false,"time":{"live_span":"1h"},"title":"Widget Title","type":"distribution"}},{"definition":{"check":"aws.ecs.agent_connected","group_by":["account","cluster"],"grouping":"cluster","tags":["account:demo","cluster:awseb-ruthebdog-env-8-dn3m6u3gvk"],"time":{"live_span":"1h"},"title":"Widget Title","type":"check_status"}},{"definition":{"requests":[{"q":"avg:system.load.1{env:staging} by {account}","style":{"palette":"warm"}}],"show_legend":false,"time":{"live_span":"1h"},"title":"Widget Title","type":"heatmap","yaxis":{"include_zero":true,"max":"2","min":"1","scale":"sqrt"}}},{"definition":{"group":["host","region"],"no_group_hosts":true,"no_metric_hosts":true,"node_type":"container","requests":{"fill":{"q":"avg:system.load.1{*} by {host}"},"size":{"q":"avg:memcache.uptime{*} by {host}"}},"scope":["region:us-east-1","aws_account:727006795293"],"style":{"fill_max":"20","fill_min":"10","palette":"yellow_to_green","palette_flip":true},"title":"Widget Title","type":"hostmap"}},{"definition":{"background_color":"pink","content":"note text","font_size":"14","has_padding":true,"show_tick":true,"text_align":"center","tick_edge":"left","tick_pos":"50%","type":"note"}},{"definition":{"autoscale":true,"custom_unit":"xx","precision":4,"requests":[{"aggregator":"sum","conditional_formats":[{"comparator":"\u003c","hide_value":false,"metric":"system.load.1","palette":"white_on_green","value":2},{"comparator":"\u003e","hide_value":false,"metric":"system.load.1","palette":"white_on_red","value":2.2}],"q":"avg:system.load.1{env:staging} by {account}"}],"text_align":"right","time":{"live_span":"1h"},"title":"Widget Title","type":"query_value"}},{"definition":{"color_by_groups":["account","apm-role-group"],"requests":{"x":{"aggregator":"max","q":"avg:system.cpu.user{*} by {service, account}"},"y":{"aggregator":"min","q":"avg:system.mem.used{*} by {service, account}"}},"time":{"live_span":"1h"},"title":"Widget Title","type":"scatterplot","xaxis":{"include_zero":true,"label":"x","max":"2000","min":"1","scale":"pow"},"yaxis":{"include_zero":false,"label":"y","max":"2222","min":"5","scale":"log"}}},{"definition":{"events":[{"q":"sources:test tags:1"},{"q":"sources:test tags:2"}],"legend_size":"2","markers":[{"display_type":"error dashed","label":" z=6 ","value":"y=4"},{"display_type":"ok solid","label":" x=8 ","value":"10 \u003c y \u003c 999"}],"requests":[{"display_type":"line","metadata":[{"alias_name":"Alpha","expression":"avg:system.cpu.user{app:general} by {env}"}],"on_right_yaxis":false,"q":"avg:system.cpu.user{app:general} by {env}","style":{"line_type":"dashed","line_width":"thin","palette":"warm"}},{"display_type":"area","log_query":{"compute":{"aggregation":"count","facet":"@duration","interval":5000},"group_by":[{"facet":"host","limit":10,"sort":{"aggregation":"avg","facet":"@duration","order":"desc"}}],"index":"mcnulty","search":{"query":"status:info"}},"on_right_yaxis":false},{"apm_query":{"compute":{"aggregation":"count","facet":"@duration","interval":5000},"group_by":[{"facet":"resource_name","limit":50,"sort":{"aggregation":"avg","facet":"@string_query.interval","order":"desc"}}],"index":"apm-search","search":{"query":"type:web"}},"display_type":"bars","on_right_yaxis":false},{"display_type":"area","on_right_yaxis":false,"process_query":{"filter_by":["active"],"limit":50,"metric":"process.stat.cpu.total_pct","search_by":"error"}},{"display_type":"bars","on_right_yaxis":false,"security_query":{"compute":{"aggregation":"count"},"group_by":[{"facet":"status"}],"index":"signal","search":{"query":"status:(high OR critical)"}}},{"display_type":"bars","on_right_yaxis":false,"rum_query":{"compute":{"aggregation":"count"},"group_by":[{"facet":"service"}],"index":"rum","search":{"query":"status:info"}}},{"audit_query":{"compute":{"aggregation":"count"},"group_by":[{"facet":"@metadata.api_key.id","limit":10,"sort":{"aggregation":"count","order":"desc"}}],"index":"*","search":{"query":""}},"display_type":"line","on_right_yaxis":false}],"show_legend":true,"time":{"live_span":"1h"},"title":"Widget Title","type":"timeseries","yaxis":{"include_zero":false,"max":"100","scale":"log"}}},{"definition":{"requests":[{"conditional_formats":[{"comparator":"\u003c","hide_value":false,"palette":"white_on_green","value":2},{"comparator":"\u003e","hide_value":false,"palette":"white_on_red","value":2.2}],"q":"avg:system.cpu.user{app:general} by {env}"}],"title":"Widget Title","type":"toplist"}},{"definition":{"layout_type":"ordered","show_title":true,"title":"Group Widget","type":"group","widgets":[{"definition":{"background_color":"yellow","content":"cluster note widget","font_size":"16","has_padding":true,"show_tick":false,"text_align":"left","tick_edge":"left","tick_pos":"50%","type":"note"}},{"definition":{"alert_id":"123","time":{"live_span":"1h"},"title":"Alert Graph","type":"alert_graph","viz_type":"toplist"}}]}},{"definition":{"show_error_budget":true,"slo_id":"56789","time_windows":["7d","previous_week"],"title":"Widget Title","type":"slo","view_mode":"overall","view_type":"detail"}},{"definition":{"requests":[{"aggregator":"sum","conditional_formats":[{"comparator":"\u003c","hide_value":false,"palette":"white_on_green","value":2},{"comparator":"\u003e","hide_value":false,"palette":"white_on_red","value":2.2}],"limit":10,"q":"avg:system.load.1{env:staging} by {account}"}],"time":{"live_span":"1h"},"title":"Widget Title","type":"query_table"}},{"definition":{"requests":[{"apm_stats_query":{"columns":[{"name":"Hits"}],"env":"staging","name":"bar","primary_tag":"datacenter:*","row_type":"resource","service":"foo"}}],"type":"query_table"}}]}
    form: {}
    headers:
      Accept:
      - application/json
      Content-Type:
      - application/json
      Dd-Operation-Id:
      - CreateDashboard
      User-Agent:
      - terraform-provider-datadog/dev (terraform 2.7.0; terraform-cli 1.0.2) datadog-api-client-go/1.2.1+dev (go go1.16.5; os darwin; arch amd64)
    url: https://api.datadoghq.com/api/v1/dashboard
    method: POST
  response:
    body: '{"notify_list":[],"description":"Created using the Datadog provider in Terraform","author_name":null,"template_variable_presets":[{"template_variables":[{"name":"var_1","value":"var_1_value"},{"name":"var_2","value":"var_2_value"}],"name":"preset_1"},{"template_variables":[{"name":"var_1","value":"var_1_value"}],"name":"preset_2"},{"template_variables":[],"name":"preset_3"}],"template_variables":[{"default":"aws","prefix":"host","name":"var_1"},{"default":"autoscaling","prefix":"service_name","name":"var_2"}],"is_read_only":true,"id":"wx4-u9z-8kj","title":"tf-TestAccDatadogDashboard_update-local-1627050858","url":"/dashboard/wx4-u9z-8kj/tf-testaccdatadogdashboardupdate-local-1627050858","created_at":"2021-07-23T14:34:21.450264+00:00","modified_at":"2021-07-23T14:34:21.450264+00:00","author_handle":"frog@datadoghq.com","widgets":[{"definition":{"alert_id":"895605","title":"Widget Title","type":"alert_graph","viz_type":"timeseries","time":{"live_span":"1h"}},"id":7147653155418692},{"definition":{"title":"Widget Title","text_align":"center","precision":3,"alert_id":"895605","type":"alert_value","unit":"b"},"id":3395998554056461},{"definition":{"requests":[{"change_type":"absolute","order_dir":"desc","compare_to":"week_before","q":"avg:system.load.1{env:staging} by {account}","show_present":true,"increase_good":true,"order_by":"name"}],"title":"Widget Title","type":"change","time":{"live_span":"1h"}},"id":441318960589211},{"definition":{"requests":[{"q":"avg:system.load.1{env:staging} by {account}","style":{"palette":"warm"}}],"title":"Widget Title","type":"distribution","show_legend":false,"time":{"live_span":"1h"}},"id":388050664440631},{"definition":{"title":"Widget Title","tags":["account:demo","cluster:awseb-ruthebdog-env-8-dn3m6u3gvk"],"group_by":["account","cluster"],"time":{"live_span":"1h"},"type":"check_status","check":"aws.ecs.agent_connected","grouping":"cluster"},"id":8476665080569892},{"definition":{"yaxis":{"include_zero":true,"scale":"sqrt","min":"1","max":"2"},"title":"Widget Title","show_legend":false,"time":{"live_span":"1h"},"requests":[{"q":"avg:system.load.1{env:staging} by {account}","style":{"palette":"warm"}}],"type":"heatmap"},"id":3141062241493317},{"definition":{"style":{"fill_min":"10","fill_max":"20","palette":"yellow_to_green","palette_flip":true},"group":["host","region"],"title":"Widget Title","node_type":"container","no_metric_hosts":true,"scope":["region:us-east-1","aws_account:727006795293"],"requests":{"size":{"q":"avg:memcache.uptime{*} by {host}"},"fill":{"q":"avg:system.load.1{*} by {host}"}},"no_group_hosts":true,"type":"hostmap"},"id":1767444450717100},{"definition":{"tick_pos":"50%","font_size":"14","has_padding":true,"tick_edge":"left","text_align":"center","content":"note text","type":"note","show_tick":true,"background_color":"pink"},"id":1746498861732452},{"definition":{"autoscale":true,"title":"Widget Title","text_align":"right","custom_unit":"xx","precision":4,"time":{"live_span":"1h"},"requests":[{"q":"avg:system.load.1{env:staging} by {account}","aggregator":"sum","conditional_formats":[{"metric":"system.load.1","hide_value":false,"palette":"white_on_green","value":2,"comparator":"<"},{"metric":"system.load.1","hide_value":false,"palette":"white_on_red","value":2.2,"comparator":">"}]}],"type":"query_value"},"id":6599511067687387},{"definition":{"title":"Widget Title","yaxis":{"include_zero":false,"max":"2222","min":"5","scale":"log","label":"y"},"color_by_groups":["account","apm-role-group"],"xaxis":{"include_zero":true,"max":"2000","min":"1","scale":"pow","label":"x"},"time":{"live_span":"1h"},"requests":{"y":{"q":"avg:system.mem.used{*} by {service, account}","aggregator":"min"},"x":{"q":"avg:system.cpu.user{*} by {service, account}","aggregator":"max"}},"type":"scatterplot"},"id":5644157092352128},{"definition":{"title":"Widget Title","yaxis":{"include_zero":false,"scale":"log","max":"100"},"markers":[{"display_type":"error dashed","value":"y=4","label":" z=6 "},{"display_type":"ok solid","value":"10 < y < 999","label":" x=8 "}],"events":[{"q":"sources:test tags:1"},{"q":"sources:test tags:2"}],"show_legend":true,"time":{"live_span":"1h"},"legend_size":"2","type":"timeseries","requests":[{"q":"avg:system.cpu.user{app:general} by {env}","on_right_yaxis":false,"style":{"line_width":"thin","palette":"warm","line_type":"dashed"},"display_type":"line","metadata":[{"expression":"avg:system.cpu.user{app:general} by {env}","alias_name":"Alpha"}]},{"on_right_yaxis":false,"display_type":"area","log_query":{"index":"mcnulty","search":{"query":"status:info"},"group_by":[{"facet":"host","sort":{"facet":"@duration","aggregation":"avg","order":"desc"},"limit":10}],"compute":{"facet":"@duration","interval":5000,"aggregation":"count"}}},{"on_right_yaxis":false,"apm_query":{"index":"apm-search","search":{"query":"type:web"},"group_by":[{"facet":"resource_name","sort":{"facet":"@string_query.interval","aggregation":"avg","order":"desc"},"limit":50}],"compute":{"facet":"@duration","interval":5000,"aggregation":"count"}},"display_type":"bars"},{"on_right_yaxis":false,"process_query":{"search_by":"error","metric":"process.stat.cpu.total_pct","limit":50,"filter_by":["active"]},"display_type":"area"},{"on_right_yaxis":false,"display_type":"bars","security_query":{"index":"signal","search":{"query":"status:(high OR critical)"},"group_by":[{"facet":"status"}],"compute":{"aggregation":"count"}}},{"on_right_yaxis":false,"rum_query":{"index":"rum","search":{"query":"status:info"},"group_by":[{"facet":"service"}],"compute":{"aggregation":"count"}},"display_type":"bars"},{"on_right_yaxis":false,"display_type":"line","audit_query":{"index":"*","search":{"query":""},"group_by":[{"facet":"@metadata.api_key.id","sort":{"aggregation":"count","order":"desc"},"limit":10}],"compute":{"aggregation":"count"}}}]},"id":5790323747120913},{"definition":{"requests":[{"q":"avg:system.cpu.user{app:general} by {env}","conditional_formats":[{"palette":"white_on_green","hide_value":false,"value":2,"comparator":"<"},{"palette":"white_on_red","hide_value":false,"value":2.2,"comparator":">"}]}],"type":"toplist","title":"Widget Title"},"id":4129559181882311},{"definition":{"widgets":[{"definition":{"tick_pos":"50%","font_size":"16","has_padding":true,"tick_edge":"left","text_align":"left","content":"cluster note widget","type":"note","show_tick":false,"background_color":"yellow"},"id":6422352811140532},{"definition":{"alert_id":"123","title":"Alert Graph","type":"alert_graph","viz_type":"toplist","time":{"live_span":"1h"}},"id":5024433849742072}],"layout_type":"ordered","type":"group","show_title":true,"title":"Group Widget"},"id":2160697431694846},{"definition":{"time_windows":["7d","previous_week"],"show_error_budget":true,"title":"Widget Title","view_type":"detail","slo_id":"56789","view_mode":"overall","type":"slo"},"id":5070091502181764},{"definition":{"requests":[{"q":"avg:system.load.1{env:staging} by {account}","aggregator":"sum","conditional_formats":[{"palette":"white_on_green","hide_value":false,"value":2,"comparator":"<"},{"palette":"white_on_red","hide_value":false,"value":2.2,"comparator":">"}],"limit":10}],"title":"Widget Title","type":"query_table","time":{"live_span":"1h"}},"id":7827909280465407},{"definition":{"requests":[{"apm_stats_query":{"primary_tag":"datacenter:*","name":"bar","service":"foo","row_type":"resource","env":"staging","columns":[{"name":"Hits"}]}}],"type":"query_table"},"id":3535044574937012}],"layout_type":"ordered"}'
    headers:
      Cache-Control:
      - no-cache
      Connection:
      - keep-alive
      Content-Security-Policy:
      - frame-ancestors 'self'; report-uri https://api.datadoghq.com/csp-report
      Content-Type:
      - application/json
      Date:
      - Fri, 23 Jul 2021 14:34:23 GMT
      Pragma:
      - no-cache
      Strict-Transport-Security:
      - max-age=15724800;
      Vary:
      - Accept-Encoding
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - SAMEORIGIN
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      Accept:
      - application/json
      Dd-Operation-Id:
      - GetDashboard
      User-Agent:
      - terraform-provider-datadog/dev (terraform 2.7.0; terraform-cli 1.0.2) datadog-api-client-go/1.2.1+dev (go go1.16.5; os darwin; arch amd64)
    url: https://api.datadoghq.com/api/v1/dashboard/wx4-u9z-8kj
    method: GET
  response:
    body: '{"notify_list":[],"description":"Created using the Datadog provider in Terraform","author_name":null,"template_variable_presets":[{"template_variables":[{"name":"var_1","value":"var_1_value"},{"name":"var_2","value":"var_2_value"}],"name":"preset_1"},{"template_variables":[{"name":"var_1","value":"var_1_value"}],"name":"preset_2"},{"template_variables":[],"name":"preset_3"}],"template_variables":[{"default":"aws","prefix":"host","name":"var_1"},{"default":"autoscaling","prefix":"service_name","name":"var_2"}],"is_read_only":true,"id":"wx4-u9z-8kj","title":"tf-TestAccDatadogDashboard_update-local-1627050858","url":"/dashboard/wx4-u9z-8kj/tf-testaccdatadogdashboardupdate-local-1627050858","created_at":"2021-07-23T14:34:21.450264+00:00","modified_at":"2021-07-23T14:34:21.450264+00:00","author_handle":"frog@datadoghq.com","widgets":[{"definition":{"alert_id":"895605","title":"Widget Title","type":"alert_graph","viz_type":"timeseries","time":{"live_span":"1h"}},"id":7147653155418692},{"definition":{"title":"Widget Title","text_align":"center","precision":3,"alert_id":"895605","type":"alert_value","unit":"b"},"id":3395998554056461},{"definition":{"requests":[{"change_type":"absolute","order_dir":"desc","compare_to":"week_before","q":"avg:system.load.1{env:staging} by {account}","show_present":true,"increase_good":true,"order_by":"name"}],"title":"Widget Title","type":"change","time":{"live_span":"1h"}},"id":441318960589211},{"definition":{"requests":[{"q":"avg:system.load.1{env:staging} by {account}","style":{"palette":"warm"}}],"title":"Widget Title","type":"distribution","show_legend":false,"time":{"live_span":"1h"}},"id":388050664440631},{"definition":{"title":"Widget Title","tags":["account:demo","cluster:awseb-ruthebdog-env-8-dn3m6u3gvk"],"group_by":["account","cluster"],"time":{"live_span":"1h"},"type":"check_status","check":"aws.ecs.agent_connected","grouping":"cluster"},"id":8476665080569892},{"definition":{"yaxis":{"include_zero":true,"scale":"sqrt","min":"1","max":"2"},"title":"Widget Title","show_legend":false,"time":{"live_span":"1h"},"requests":[{"q":"avg:system.load.1{env:staging} by {account}","style":{"palette":"warm"}}],"type":"heatmap"},"id":3141062241493317},{"definition":{"style":{"fill_min":"10","fill_max":"20","palette":"yellow_to_green","palette_flip":true},"group":["host","region"],"title":"Widget Title","node_type":"container","no_metric_hosts":true,"scope":["region:us-east-1","aws_account:727006795293"],"requests":{"size":{"q":"avg:memcache.uptime{*} by {host}"},"fill":{"q":"avg:system.load.1{*} by {host}"}},"no_group_hosts":true,"type":"hostmap"},"id":1767444450717100},{"definition":{"tick_pos":"50%","font_size":"14","has_padding":true,"tick_edge":"left","text_align":"center","content":"note text","type":"note","show_tick":true,"background_color":"pink"},"id":1746498861732452},{"definition":{"autoscale":true,"title":"Widget Title","text_align":"right","custom_unit":"xx","precision":4,"time":{"live_span":"1h"},"requests":[{"q":"avg:system.load.1{env:staging} by {account}","aggregator":"sum","conditional_formats":[{"metric":"system.load.1","hide_value":false,"palette":"white_on_green","value":2,"comparator":"<"},{"metric":"system.load.1","hide_value":false,"palette":"white_on_red","value":2.2,"comparator":">"}]}],"type":"query_value"},"id":6599511067687387},{"definition":{"title":"Widget Title","yaxis":{"include_zero":false,"max":"2222","min":"5","scale":"log","label":"y"},"color_by_groups":["account","apm-role-group"],"xaxis":{"include_zero":true,"max":"2000","min":"1","scale":"pow","label":"x"},"time":{"live_span":"1h"},"requests":{"y":{"q":"avg:system.mem.used{*} by {service, account}","aggregator":"min"},"x":{"q":"avg:system.cpu.user{*} by {service, account}","aggregator":"max"}},"type":"scatterplot"},"id":5644157092352128},{"definition":{"title":"Widget Title","yaxis":{"include_zero":false,"scale":"log","max":"100"},"markers":[{"display_type":"error dashed","value":"y=4","label":" z=6 "},{"display_type":"ok solid","value":"10 < y < 999","label":" x=8 "}],"events":[{"q":"sources:test tags:1"},{"q":"sources:test tags:2"}],"show_legend":true,"time":{"live_span":"1h"},"legend_size":"2","type":"timeseries","requests":[{"q":"avg:system.cpu.user{app:general} by {env}","on_right_yaxis":false,"style":{"line_width":"thin","palette":"warm","line_type":"dashed"},"display_type":"line","metadata":[{"expression":"avg:system.cpu.user{app:general} by {env}","alias_name":"Alpha"}]},{"on_right_yaxis":false,"display_type":"area","log_query":{"index":"mcnulty","search":{"query":"status:info"},"group_by":[{"facet":"host","sort":{"facet":"@duration","aggregation":"avg","order":"desc"},"limit":10}],"compute":{"facet":"@duration","interval":5000,"aggregation":"count"}}},{"on_right_yaxis":false,"apm_query":{"index":"apm-search","search":{"query":"type:web"},"group_by":[{"facet":"resource_name","sort":{"facet":"@string_query.interval","aggregation":"avg","order":"desc"},"limit":50}],"compute":{"facet":"@duration","interval":5000,"aggregation":"count"}},"display_type":"bars"},{"on_right_yaxis":false,"process_query":{"search_by":"error","metric":"process.stat.cpu.total_pct","limit":50,"filter_by":["active"]},"display_type":"area"},{"on_right_yaxis":false,"display_type":"bars","security_query":{"index":"signal","search":{"query":"status:(high OR critical)"},"group_by":[{"facet":"status"}],"compute":{"aggregation":"count"}}},{"on_right_yaxis":false,"rum_query":{"index":"rum","search":{"query":"status:info"},"group_by":[{"facet":"service"}],"compute":{"aggregation":"count"}},"display_type":"bars"},{"on_right_yaxis":false,"display_type":"line","audit_query":{"index":"*","search":{"query":""},"group_by":[{"facet":"@metadata.api_key.id","sort":{"aggregation":"count","order":"desc"},"limit":10}],"compute":{"aggregation":"count"}}}]},"id":5790323747120913},{"definition":{"requests":[{"q":"avg:system.cpu.user{app:general} by {env}","conditional_formats":[{"palette":"white_on_green","hide_value":false,"value":2,"comparator":"<"},{"palette":"white_on_red","hide_value":false,"value":2.2,"comparator":">"}]}],"type":"toplist","title":"Widget Title"},"id":4129559181882311},{"definition":{"widgets":[{"definition":{"tick_pos":"50%","font_size":"16","has_padding":true,"tick_edge":"left","text_align":"left","content":"cluster note widget","type":"note","show_tick":false,"background_color":"yellow"},"id":6422352811140532},{"definition":{"alert_id":"123","title":"Alert Graph","type":"alert_graph","viz_type":"toplist","time":{"live_span":"1h"}},"id":5024433849742072}],"layout_type":"ordered","type":"group","show_title":true,"title":"Group Widget"},"id":2160697431694846},{"definition":{"time_windows":["7d","previous_week"],"show_error_budget":true,"title":"Widget Title","view_type":"detail","slo_id":"56789","view_mode":"overall","type":"slo"},"id":5070091502181764},{"definition":{"requests":[{"q":"avg:system.load.1{env:staging} by {account}","aggregator":"sum","conditional_formats":[{"palette":"white_on_green","hide_value":false,"value":2,"comparator":"<"},{"palette":"white_on_red","hide_value":false,"value":2.2,"comparator":">"}],"limit":10}],"title":"Widget Title","type":"query_table","time":{"live_span":"1h"}},"id":7827909280465407},{"definition":{"requests":[{"apm_stats_query":{"primary_tag":"datacenter:*","name":"bar","service":"foo","row_type":"resource","env":"staging","columns":[{"name":"Hits"}]}}],"type":"query_table"},"id":3535044574937012}],"layout_type":"ordered"}'
    headers:
      Cache-Control:
      - no-cache
      Connection:
      - keep-alive
      Content-Security-Policy:
      - frame-ancestors 'self'; report-uri https://api.datadoghq.com/csp-report
      Content-Type:
      - application/json
      Date:
      - Fri, 23 Jul 2021 14:34:24 GMT
      Pragma:
      - no-cache
      Strict-Transport-Security:
      - max-age=15724800;
      Vary:
      - Accept-Encoding
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - SAMEORIGIN
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      Accept:
      - application/json
      Dd-Operation-Id:
      - GetDashboard
      User-Agent:
      - terraform-provider-datadog/dev (terraform 2.7.0; terraform-cli 1.0.2) datadog-api-client-go/1.2.1+dev (go go1.16.5; os darwin; arch amd64)
    url: https://api.datadoghq.com/api/v1/dashboard/wx4-u9z-8kj
    method: GET
  response:
    body: '{"notify_list":[],"description":"Created using the Datadog provider in Terraform","author_name":null,"template_variable_presets":[{"template_variables":[{"name":"var_1","value":"var_1_value"},{"name":"var_2","value":"var_2_value"}],"name":"preset_1"},{"template_variables":[{"name":"var_1","value":"var_1_value"}],"name":"preset_2"},{"template_variables":[],"name":"preset_3"}],"template_variables":[{"default":"aws","prefix":"host","name":"var_1"},{"default":"autoscaling","prefix":"service_name","name":"var_2"}],"is_read_only":true,"id":"wx4-u9z-8kj","title":"tf-TestAccDatadogDashboard_update-local-1627050858","url":"/dashboard/wx4-u9z-8kj/tf-testaccdatadogdashboardupdate-local-1627050858","created_at":"2021-07-23T14:34:21.450264+00:00","modified_at":"2021-07-23T14:34:21.450264+00:00","author_handle":"frog@datadoghq.com","widgets":[{"definition":{"alert_id":"895605","title":"Widget Title","type":"alert_graph","viz_type":"timeseries","time":{"live_span":"1h"}},"id":7147653155418692},{"definition":{"title":"Widget Title","text_align":"center","precision":3,"alert_id":"895605","type":"alert_value","unit":"b"},"id":3395998554056461},{"definition":{"requests":[{"change_type":"absolute","order_dir":"desc","compare_to":"week_before","q":"avg:system.load.1{env:staging} by {account}","show_present":true,"increase_good":true,"order_by":"name"}],"title":"Widget Title","type":"change","time":{"live_span":"1h"}},"id":441318960589211},{"definition":{"requests":[{"q":"avg:system.load.1{env:staging} by {account}","style":{"palette":"warm"}}],"title":"Widget Title","type":"distribution","show_legend":false,"time":{"live_span":"1h"}},"id":388050664440631},{"definition":{"title":"Widget Title","tags":["account:demo","cluster:awseb-ruthebdog-env-8-dn3m6u3gvk"],"group_by":["account","cluster"],"time":{"live_span":"1h"},"type":"check_status","check":"aws.ecs.agent_connected","grouping":"cluster"},"id":8476665080569892},{"definition":{"yaxis":{"include_zero":true,"scale":"sqrt","min":"1","max":"2"},"title":"Widget Title","show_legend":false,"time":{"live_span":"1h"},"requests":[{"q":"avg:system.load.1{env:staging} by {account}","style":{"palette":"warm"}}],"type":"heatmap"},"id":3141062241493317},{"definition":{"style":{"fill_min":"10","fill_max":"20","palette":"yellow_to_green","palette_flip":true},"group":["host","region"],"title":"Widget Title","node_type":"container","no_metric_hosts":true,"scope":["region:us-east-1","aws_account:727006795293"],"requests":{"size":{"q":"avg:memcache.uptime{*} by {host}"},"fill":{"q":"avg:system.load.1{*} by {host}"}},"no_group_hosts":true,"type":"hostmap"},"id":1767444450717100},{"definition":{"tick_pos":"50%","font_size":"14","has_padding":true,"tick_edge":"left","text_align":"center","content":"note text","type":"note","show_tick":true,"background_color":"pink"},"id":1746498861732452},{"definition":{"autoscale":true,"title":"Widget Title","text_align":"right","custom_unit":"xx","precision":4,"time":{"live_span":"1h"},"requests":[{"q":"avg:system.load.1{env:staging} by {account}","aggregator":"sum","conditional_formats":[{"metric":"system.load.1","hide_value":false,"palette":"white_on_green","value":2,"comparator":"<"},{"metric":"system.load.1","hide_value":false,"palette":"white_on_red","value":2.2,"comparator":">"}]}],"type":"query_value"},"id":6599511067687387},{"definition":{"title":"Widget Title","yaxis":{"include_zero":false,"max":"2222","min":"5","scale":"log","label":"y"},"color_by_groups":["account","apm-role-group"],"xaxis":{"include_zero":true,"max":"2000","min":"1","scale":"pow","label":"x"},"time":{"live_span":"1h"},"requests":{"y":{"q":"avg:system.mem.used{*} by {service, account}","aggregator":"min"},"x":{"q":"avg:system.cpu.user{*} by {service, account}","aggregator":"max"}},"type":"scatterplot"},"id":5644157092352128},{"definition":{"title":"Widget Title","yaxis":{"include_zero":false,"scale":"log","max":"100"},"markers":[{"display_type":"error dashed","value":"y=4","label":" z=6 "},{"display_type":"ok solid","value":"10 < y < 999","label":" x=8 "}],"events":[{"q":"sources:test tags:1"},{"q":"sources:test tags:2"}],"show_legend":true,"time":{"live_span":"1h"},"legend_size":"2","type":"timeseries","requests":[{"q":"avg:system.cpu.user{app:general} by {env}","on_right_yaxis":false,"style":{"line_width":"thin","palette":"warm","line_type":"dashed"},"display_type":"line","metadata":[{"expression":"avg:system.cpu.user{app:general} by {env}","alias_name":"Alpha"}]},{"on_right_yaxis":false,"display_type":"area","log_query":{"index":"mcnulty","search":{"query":"status:info"},"group_by":[{"facet":"host","sort":{"facet":"@duration","aggregation":"avg","order":"desc"},"limit":10}],"compute":{"facet":"@duration","interval":5000,"aggregation":"count"}}},{"on_right_yaxis":false,"apm_query":{"index":"apm-search","search":{"query":"type:web"},"group_by":[{"facet":"resource_name","sort":{"facet":"@string_query.interval","aggregation":"avg","order":"desc"},"limit":50}],"compute":{"facet":"@duration","interval":5000,"aggregation":"count"}},"display_type":"bars"},{"on_right_yaxis":false,"process_query":{"search_by":"error","metric":"process.stat.cpu.total_pct","limit":50,"filter_by":["active"]},"display_type":"area"},{"on_right_yaxis":false,"display_type":"bars","security_query":{"index":"signal","search":{"query":"status:(high OR critical)"},"group_by":[{"facet":"status"}],"compute":{"aggregation":"count"}}},{"on_right_yaxis":false,"rum_query":{"index":"rum","search":{"query":"status:info"},"group_by":[{"facet":"service"}],"compute":{"aggregation":"count"}},"display_type":"bars"},{"on_right_yaxis":false,"display_type":"line","audit_query":{"index":"*","search":{"query":""},"group_by":[{"facet":"@metadata.api_key.id","sort":{"aggregation":"count","order":"desc"},"limit":10}],"compute":{"aggregation":"count"}}}]},"id":5790323747120913},{"definition":{"requests":[{"q":"avg:system.cpu.user{app:general} by {env}","conditional_formats":[{"palette":"white_on_green","hide_value":false,"value":2,"comparator":"<"},{"palette":"white_on_red","hide_value":false,"value":2.2,"comparator":">"}]}],"type":"toplist","title":"Widget Title"},"id":4129559181882311},{"definition":{"widgets":[{"definition":{"tick_pos":"50%","font_size":"16","has_padding":true,"tick_edge":"left","text_align":"left","content":"cluster note widget","type":"note","show_tick":false,"background_color":"yellow"},"id":6422352811140532},{"definition":{"alert_id":"123","title":"Alert Graph","type":"alert_graph","viz_type":"toplist","time":{"live_span":"1h"}},"id":5024433849742072}],"layout_type":"ordered","type":"group","show_title":true,"title":"Group Widget"},"id":2160697431694846},{"definition":{"time_windows":["7d","previous_week"],"show_error_budget":true,"title":"Widget Title","view_type":"detail","slo_id":"56789","view_mode":"overall","type":"slo"},"id":5070091502181764},{"definition":{"requests":[{"q":"avg:system.load.1{env:staging} by {account}","aggregator":"sum","conditional_formats":[{"palette":"white_on_green","hide_value":false,"value":2,"comparator":"<"},{"palette":"white_on_red","hide_value":false,"value":2.2,"comparator":">"}],"limit":10}],"title":"Widget Title","type":"query_table","time":{"live_span":"1h"}},"id":7827909280465407},{"definition":{"requests":[{"apm_stats_query":{"primary_tag":"datacenter:*","name":"bar","service":"foo","row_type":"resource","env":"staging","columns":[{"name":"Hits"}]}}],"type":"query_table"},"id":3535044574937012}],"layout_type":"ordered"}'
    headers:
      Cache-Control:
      - no-cache
      Connection:
      - keep-alive
      Content-Security-Policy:
      - frame-ancestors 'self'; report-uri https://api.datadoghq.com/csp-report
      Content-Type:
      - application/json
      Date:
      - Fri, 23 Jul 2021 14:34:24 GMT
      Pragma:
      - no-cache
      Strict-Transport-Security:
      - max-age=15724800;
      Vary:
      - Accept-Encoding
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - SAMEORIGIN
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      Accept:
      - application/json
      Dd-Operation-Id:
      - GetDashboard
      User-Agent:
      - terraform-provider-datadog/dev (terraform 2.7.0; terraform-cli 1.0.2) datadog-api-client-go/1.2.1+dev (go go1.16.5; os darwin; arch amd64)
    url: https://api.datadoghq.com/api/v1/dashboard/wx4-u9z-8kj
    method: GET
  response:
    body: '{"notify_list":[],"description":"Created using the Datadog provider in Terraform","author_name":null,"template_variable_presets":[{"template_variables":[{"name":"var_1","value":"var_1_value"},{"name":"var_2","value":"var_2_value"}],"name":"preset_1"},{"template_variables":[{"name":"var_1","value":"var_1_value"}],"name":"preset_2"},{"template_variables":[],"name":"preset_3"}],"template_variables":[{"default":"aws","prefix":"host","name":"var_1"},{"default":"autoscaling","prefix":"service_name","name":"var_2"}],"is_read_only":true,"id":"wx4-u9z-8kj","title":"tf-TestAccDatadogDashboard_update-local-1627050858","url":"/dashboard/wx4-u9z-8kj/tf-testaccdatadogdashboardupdate-local-1627050858","created_at":"2021-07-23T14:34:21.450264+00:00","modified_at":"2021-07-23T14:34:21.450264+00:00","author_handle":"frog@datadoghq.com","widgets":[{"definition":{"alert_id":"895605","title":"Widget Title","type":"alert_graph","viz_type":"timeseries","time":{"live_span":"1h"}},"id":7147653155418692},{"definition":{"title":"Widget Title","text_align":"center","precision":3,"alert_id":"895605","type":"alert_value","unit":"b"},"id":3395998554056461},{"definition":{"requests":[{"change_type":"absolute","order_dir":"desc","compare_to":"week_before","q":"avg:system.load.1{env:staging} by {account}","show_present":true,"increase_good":true,"order_by":"name"}],"title":"Widget Title","type":"change","time":{"live_span":"1h"}},"id":441318960589211},{"definition":{"requests":[{"q":"avg:system.load.1{env:staging} by {account}","style":{"palette":"warm"}}],"title":"Widget Title","type":"distribution","show_legend":false,"time":{"live_span":"1h"}},"id":388050664440631},{"definition":{"title":"Widget Title","tags":["account:demo","cluster:awseb-ruthebdog-env-8-dn3m6u3gvk"],"group_by":["account","cluster"],"time":{"live_span":"1h"},"type":"check_status","check":"aws.ecs.agent_connected","grouping":"cluster"},"id":8476665080569892},{"definition":{"yaxis":{"include_zero":true,"scale":"sqrt","min":"1","max":"2"},"title":"Widget Title","show_legend":false,"time":{"live_span":"1h"},"requests":[{"q":"avg:system.load.1{env:staging} by {account}","style":{"palette":"warm"}}],"type":"heatmap"},"id":3141062241493317},{"definition":{"style":{"fill_min":"10","fill_max":"20","palette":"yellow_to_green","palette_flip":true},"group":["host","region"],"title":"Widget Title","node_type":"container","no_metric_hosts":true,"scope":["region:us-east-1","aws_account:727006795293"],"requests":{"size":{"q":"avg:memcache.uptime{*} by {host}"},"fill":{"q":"avg:system.load.1{*} by {host}"}},"no_group_hosts":true,"type":"hostmap"},"id":1767444450717100},{"definition":{"tick_pos":"50%","font_size":"14","has_padding":true,"tick_edge":"left","text_align":"center","content":"note text","type":"note","show_tick":true,"background_color":"pink"},"id":1746498861732452},{"definition":{"autoscale":true,"title":"Widget Title","text_align":"right","custom_unit":"xx","precision":4,"time":{"live_span":"1h"},"requests":[{"q":"avg:system.load.1{env:staging} by {account}","aggregator":"sum","conditional_formats":[{"metric":"system.load.1","hide_value":false,"palette":"white_on_green","value":2,"comparator":"<"},{"metric":"system.load.1","hide_value":false,"palette":"white_on_red","value":2.2,"comparator":">"}]}],"type":"query_value"},"id":6599511067687387},{"definition":{"title":"Widget Title","yaxis":{"include_zero":false,"max":"2222","min":"5","scale":"log","label":"y"},"color_by_groups":["account","apm-role-group"],"xaxis":{"include_zero":true,"max":"2000","min":"1","scale":"pow","label":"x"},"time":{"live_span":"1h"},"requests":{"y":{"q":"avg:system.mem.used{*} by {service, account}","aggregator":"min"},"x":{"q":"avg:system.cpu.user{*} by {service, account}","aggregator":"max"}},"type":"scatterplot"},"id":5644157092352128},{"definition":{"title":"Widget Title","yaxis":{"include_zero":false,"scale":"log","max":"100"},"markers":[{"display_type":"error dashed","value":"y=4","label":" z=6 "},{"display_type":"ok solid","value":"10 < y < 999","label":" x=8 "}],"events":[{"q":"sources:test tags:1"},{"q":"sources:test tags:2"}],"show_legend":true,"time":{"live_span":"1h"},"legend_size":"2","type":"timeseries","requests":[{"q":"avg:system.cpu.user{app:general} by {env}","on_right_yaxis":false,"style":{"line_width":"thin","palette":"warm","line_type":"dashed"},"display_type":"line","metadata":[{"expression":"avg:system.cpu.user{app:general} by {env}","alias_name":"Alpha"}]},{"on_right_yaxis":false,"display_type":"area","log_query":{"index":"mcnulty","search":{"query":"status:info"},"group_by":[{"facet":"host","sort":{"facet":"@duration","aggregation":"avg","order":"desc"},"limit":10}],"compute":{"facet":"@duration","interval":5000,"aggregation":"count"}}},{"on_right_yaxis":false,"apm_query":{"index":"apm-search","search":{"query":"type:web"},"group_by":[{"facet":"resource_name","sort":{"facet":"@string_query.interval","aggregation":"avg","order":"desc"},"limit":50}],"compute":{"facet":"@duration","interval":5000,"aggregation":"count"}},"display_type":"bars"},{"on_right_yaxis":false,"process_query":{"search_by":"error","metric":"process.stat.cpu.total_pct","limit":50,"filter_by":["active"]},"display_type":"area"},{"on_right_yaxis":false,"display_type":"bars","security_query":{"index":"signal","search":{"query":"status:(high OR critical)"},"group_by":[{"facet":"status"}],"compute":{"aggregation":"count"}}},{"on_right_yaxis":false,"rum_query":{"index":"rum","search":{"query":"status:info"},"group_by":[{"facet":"service"}],"compute":{"aggregation":"count"}},"display_type":"bars"},{"on_right_yaxis":false,"display_type":"line","audit_query":{"index":"*","search":{"query":""},"group_by":[{"facet":"@metadata.api_key.id","sort":{"aggregation":"count","order":"desc"},"limit":10}],"compute":{"aggregation":"count"}}}]},"id":5790323747120913},{"definition":{"requests":[{"q":"avg:system.cpu.user{app:general} by {env}","conditional_formats":[{"palette":"white_on_green","hide_value":false,"value":2,"comparator":"<"},{"palette":"white_on_red","hide_value":false,"value":2.2,"comparator":">"}]}],"type":"toplist","title":"Widget Title"},"id":4129559181882311},{"definition":{"widgets":[{"definition":{"tick_pos":"50%","font_size":"16","has_padding":true,"tick_edge":"left","text_align":"left","content":"cluster note widget","type":"note","show_tick":false,"background_color":"yellow"},"id":6422352811140532},{"definition":{"alert_id":"123","title":"Alert Graph","type":"alert_graph","viz_type":"toplist","time":{"live_span":"1h"}},"id":5024433849742072}],"layout_type":"ordered","type":"group","show_title":true,"title":"Group Widget"},"id":2160697431694846},{"definition":{"time_windows":["7d","previous_week"],"show_error_budget":true,"title":"Widget Title","view_type":"detail","slo_id":"56789","view_mode":"overall","type":"slo"},"id":5070091502181764},{"definition":{"requests":[{"q":"avg:system.load.1{env:staging} by {account}","aggregator":"sum","conditional_formats":[{"palette":"white_on_green","hide_value":false,"value":2,"comparator":"<"},{"palette":"white_on_red","hide_value":false,"value":2.2,"comparator":">"}],"limit":10}],"title":"Widget Title","type":"query_table","time":{"live_span":"1h"}},"id":7827909280465407},{"definition":{"requests":[{"apm_stats_query":{"primary_tag":"datacenter:*","name":"bar","service":"foo","row_type":"resource","env":"staging","columns":[{"name":"Hits"}]}}],"type":"query_table"},"id":3535044574937012}],"layout_type":"ordered"}'
    headers:
      Cache-Control:
      - no-cache
      Connection:
      - keep-alive
      Content-Security-Policy:
      - frame-ancestors 'self'; report-uri https://api.datadoghq.com/csp-report
      Content-Type:
      - application/json
      Date:
      - Fri, 23 Jul 2021 14:34:25 GMT
      Pragma:
      - no-cache
      Strict-Transport-Security:
      - max-age=15724800;
      Vary:
      - Accept-Encoding
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - SAMEORIGIN
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      Accept:
      - application/json
      Dd-Operation-Id:
      - DeleteDashboard
      User-Agent:
      - terraform-provider-datadog/dev (terraform 2.7.0; terraform-cli 1.0.2) datadog-api-client-go/1.2.1+dev (go go1.16.5; os darwin; arch amd64)
    url: https://api.datadoghq.com/api/v1/dashboard/wx4-u9z-8kj
    method: DELETE
  response:
    body: '{"deleted_dashboard_id":"wx4-u9z-8kj"}'
    headers:
      Cache-Control:
      - no-cache
      Connection:
      - keep-alive
      Content-Security-Policy:
      - frame-ancestors 'self'; report-uri https://api.datadoghq.com/csp-report
      Content-Type:
      - application/json
      Date:
      - Fri, 23 Jul 2021 14:34:27 GMT
      Pragma:
      - no-cache
      Strict-Transport-Security:
      - max-age=15724800;
      Vary:
      - Accept-Encoding
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - SAMEORIGIN
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      Accept:
      - application/json
      Dd-Operation-Id:
      - GetDashboard
      User-Agent:
      - terraform-provider-datadog/dev (terraform 2.7.0; terraform-cli 1.0.2) datadog-api-client-go/1.2.1+dev (go go1.16.5; os darwin; arch amd64)
    url: https://api.datadoghq.com/api/v1/dashboard/wx4-u9z-8kj
    method: GET
  response:
    body: '{"errors": ["Dashboard with ID wx4-u9z-8kj not found"]}'
    headers:
      Cache-Control:
      - no-cache
      Connection:
      - keep-alive
      Content-Security-Policy:
      - frame-ancestors 'self'; report-uri https://api.datadoghq.com/csp-report
      Content-Type:
      - application/json
      Date:
      - Fri, 23 Jul 2021 14:34:28 GMT
      Pragma:
      - no-cache
      Strict-Transport-Security:
      - max-age=15724800;
      Vary:
      - Accept-Encoding
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - SAMEORIGIN
    status: 404 Not Found
    code: 404
    duration: ""
