---
version: 2
interactions:
    - id: 0
      request:
        proto: HTTP/1.1
        proto_major: 1
        proto_minor: 1
        content_length: 13570
        transfer_encoding: []
        trailer: {}
        host: api.datadoghq.com
        remote_addr: ""
        request_uri: ""
        body: "{\"data\":{\"attributes\":{\"components\":[{\"events\":[],\"name\":\"grid0\",\"properties\":{\"backgroundColor\":\"default\",\"children\":[{\"events\":[],\"name\":\"confirmation\",\"properties\":{\"children\":[{\"events\":[],\"name\":\"grid2\",\"properties\":{\"children\":[{\"events\":[],\"name\":\"gridCell8\",\"properties\":{\"children\":[{\"events\":[],\"name\":\"text4\",\"properties\":{\"content\":\"## ✅ You've successfully created a pull request\",\"contentType\":\"markdown\",\"isVisible\":true,\"textAlign\":\"center\",\"verticalAlign\":\"center\"},\"type\":\"text\"}],\"isVisible\":\"true\",\"layout\":{\"default\":{\"height\":5,\"width\":12,\"x\":0,\"y\":0}}},\"type\":\"gridCell\"},{\"events\":[],\"name\":\"gridCell10\",\"properties\":{\"children\":[{\"events\":[{\"name\":\"click\",\"type\":\"openUrl\",\"url\":\"${createOrUpdateFile0?.outputs.data.url}\"}],\"name\":\"button1\",\"properties\":{\"isBorderless\":false,\"isDisabled\":false,\"isLoading\":false,\"isPrimary\":true,\"isVisible\":true,\"label\":\"Open\",\"level\":\"default\"},\"type\":\"button\"}],\"isVisible\":\"true\",\"layout\":{\"default\":{\"height\":4,\"width\":4,\"x\":4,\"y\":17}}},\"type\":\"gridCell\"},{\"events\":[],\"name\":\"gridCell0\",\"properties\":{\"children\":[{\"events\":[],\"name\":\"text1\",\"properties\":{\"content\":\"The request is assigned to the infrastructure team for approval. You will receive a slack notification when it is approved with the link to your new S3 bucket\",\"contentType\":\"plain_text\",\"isVisible\":true,\"textAlign\":\"center\",\"verticalAlign\":\"top\"},\"type\":\"text\"}],\"isVisible\":\"true\",\"layout\":{\"default\":{\"height\":8,\"width\":12,\"x\":0,\"y\":6}}},\"type\":\"gridCell\"}]},\"type\":\"grid\"}],\"isVisible\":true,\"size\":\"sm\",\"title\":\"Status\"},\"type\":\"modal\"},{\"events\":[],\"name\":\"gridCell9\",\"properties\":{\"children\":[{\"events\":[{\"name\":\"click\",\"queryName\":\"createOrUpdateFile0\",\"type\":\"triggerQuery\"}],\"name\":\"button0\",\"properties\":{\"isBorderless\":false,\"isDisabled\":false,\"isLoading\":\"${createOrUpdateFile0?.isLoading}\",\"isPrimary\":true,\"isVisible\":true,\"label\":\"Create PR\",\"level\":\"default\"},\"type\":\"button\"}],\"isVisible\":\"true\",\"layout\":{\"default\":{\"height\":4,\"width\":6,\"x\":3,\"y\":85}}},\"type\":\"gridCell\"},{\"events\":[],\"name\":\"gridCell5\",\"properties\":{\"children\":[{\"events\":[],\"name\":\"form\",\"properties\":{\"children\":[{\"events\":[],\"name\":\"grid3\",\"properties\":{\"children\":[{\"events\":[],\"name\":\"gridCell2\",\"properties\":{\"children\":[{\"events\":[],\"name\":\"region\",\"properties\":{\"defaultValue\":\"\",\"isDisabled\":false,\"isMultiselect\":\"false\",\"isVisible\":true,\"label\":\"Region*\",\"options\":\"[\\n    {\\n        \\\"label\\\": \\\"US East (N. Virginia)\\\",\\n        \\\"value\\\": \\\"us-east-1\\\"\\n    },\\n    {\\n        \\\"label\\\": \\\"US East (Ohio)\\\",\\n        \\\"value\\\": \\\"us-east-2\\\"\\n    },\\n    {\\n        \\\"label\\\": \\\"US West (N. California)\\\",\\n        \\\"value\\\": \\\"us-west-1\\\"\\n    },\\n    {\\n        \\\"label\\\": \\\"US West (Oregon)\\\",\\n        \\\"value\\\": \\\"us-west-2\\\"\\n    },\\n    {\\n        \\\"label\\\": \\\"Africa (Cape Town)\\\",\\n        \\\"value\\\": \\\"af-south-1\\\"\\n    },\\n    {\\n        \\\"label\\\": \\\"Asia Pacific (Hong Kong)\\\",\\n        \\\"value\\\": \\\"ap-east-1\\\"\\n    },\\n    {\\n        \\\"label\\\": \\\"Asia Pacific (Hyderabad)\\\",\\n        \\\"value\\\": \\\"ap-south-2\\\"\\n    },\\n    {\\n        \\\"label\\\": \\\"Asia Pacific (Jakarta)\\\",\\n        \\\"value\\\": \\\"ap-southeast-3\\\"\\n    },\\n    {\\n        \\\"label\\\": \\\"Asia Pacific (Mumbai)\\\",\\n        \\\"value\\\": \\\"ap-south-1\\\"\\n    },\\n    {\\n        \\\"label\\\": \\\"Asia Pacific (Osaka)\\\",\\n        \\\"value\\\": \\\"ap-northeast-3\\\"\\n    },\\n    {\\n        \\\"label\\\": \\\"Asia Pacific (Seoul)\\\",\\n        \\\"value\\\": \\\"ap-northeast-2\\\"\\n    },\\n    {\\n        \\\"label\\\": \\\"Asia Pacific (Singapore)\\\",\\n        \\\"value\\\": \\\"ap-southeast-1\\\"\\n    },\\n    {\\n        \\\"label\\\": \\\"Asia Pacific (Sydney)\\\",\\n        \\\"value\\\": \\\"ap-southeast-2\\\"\\n    },\\n    {\\n        \\\"label\\\": \\\"Asia Pacific (Tokyo)\\\",\\n        \\\"value\\\": \\\"ap-northeast-1\\\"\\n    },\\n    {\\n        \\\"label\\\": \\\"Canada (Central)\\\",\\n        \\\"value\\\": \\\"ca-central-1\\\"\\n    },\\n    {\\n        \\\"label\\\": \\\"China (Beijing)\\\",\\n        \\\"value\\\": \\\"cn-north-1\\\"\\n    },\\n    {\\n        \\\"label\\\": \\\"China (Ningxia)\\\",\\n        \\\"value\\\": \\\"cn-northwest-1\\\"\\n    },\\n    {\\n        \\\"label\\\": \\\"Europe (Frankfurt)\\\",\\n        \\\"value\\\": \\\"eu-central-1\\\"\\n    },\\n    {\\n        \\\"label\\\": \\\"Europe (Ireland)\\\",\\n        \\\"value\\\": \\\"eu-west-1\\\"\\n    },\\n    {\\n        \\\"label\\\": \\\"Europe (London)\\\",\\n        \\\"value\\\": \\\"eu-west-2\\\"\\n    },\\n    {\\n        \\\"label\\\": \\\"Europe (Milan)\\\",\\n        \\\"value\\\": \\\"eu-south-1\\\"\\n    },\\n    {\\n        \\\"label\\\": \\\"Europe (Paris)\\\",\\n        \\\"value\\\": \\\"eu-west-3\\\"\\n    },\\n    {\\n        \\\"label\\\": \\\"Europe (Spain)\\\",\\n        \\\"value\\\": \\\"eu-south-2\\\"\\n    },\\n    {\\n        \\\"label\\\": \\\"Europe (Stockholm)\\\",\\n        \\\"value\\\": \\\"eu-north-1\\\"\\n    },\\n    {\\n        \\\"label\\\": \\\"Middle East (Bahrain)\\\",\\n        \\\"value\\\": \\\"me-south-1\\\"\\n    },\\n    {\\n        \\\"label\\\": \\\"Middle East (UAE)\\\",\\n        \\\"value\\\": \\\"me-central-1\\\"\\n    },\\n    {\\n        \\\"label\\\": \\\"South America (São Paulo)\\\",\\n        \\\"value\\\": \\\"sa-east-1\\\"\\n    },\\n    {\\n        \\\"label\\\": \\\"AWS GovCloud (US-East)\\\",\\n        \\\"value\\\": \\\"us-gov-east-1\\\"\\n    },\\n    {\\n        \\\"label\\\": \\\"AWS GovCloud (US-West)\\\",\\n        \\\"value\\\": \\\"us-gov-west-1\\\"\\n    },\\n    {\\n        \\\"label\\\": \\\"Israel (Tel Aviv)\\\",\\n        \\\"value\\\": \\\"il-central-1\\\"\\n    }\\n]\",\"placeholder\":\"Select a region\"},\"type\":\"select\"}],\"isVisible\":\"true\",\"layout\":{\"default\":{\"height\":7,\"width\":12,\"x\":0,\"y\":5}}},\"type\":\"gridCell\"},{\"events\":[],\"name\":\"gridCell4_copy\",\"properties\":{\"children\":[{\"events\":[],\"name\":\"bucketName\",\"properties\":{\"defaultValue\":\"\",\"isDisabled\":false,\"isVisible\":true,\"label\":\"Bucket Name*\",\"placeholder\":\"Indicate the name of the bucket\"},\"type\":\"textInput\"}],\"isVisible\":\"true\",\"layout\":{\"default\":{\"height\":7,\"width\":12,\"x\":0,\"y\":13}}},\"type\":\"gridCell\"},{\"events\":[],\"name\":\"gridCell4\",\"properties\":{\"children\":[{\"events\":[],\"name\":\"text3\",\"properties\":{\"content\":\"## Bucket Info\",\"contentType\":\"markdown\",\"isVisible\":true,\"textAlign\":\"left\",\"verticalAlign\":\"top\"},\"type\":\"text\"}],\"isVisible\":\"true\",\"layout\":{\"default\":{\"height\":4,\"width\":12,\"x\":0,\"y\":0}}},\"type\":\"gridCell\"},{\"events\":[],\"name\":\"gridCell15\",\"properties\":{\"children\":[{\"events\":[],\"name\":\"owner\",\"properties\":{\"defaultValue\":\"alerting\",\"isDisabled\":false,\"isMultiselect\":\"false\",\"isVisible\":true,\"label\":\"Owner*\",\"options\":\"${listTeams0?.outputs}\",\"placeholder\":\"Select an owning team\"},\"type\":\"select\"}],\"isVisible\":\"true\",\"layout\":{\"default\":{\"height\":7,\"width\":12,\"x\":0,\"y\":21}}},\"type\":\"gridCell\"},{\"events\":[],\"name\":\"gridCell16\",\"properties\":{\"children\":[{\"events\":[],\"name\":\"service\",\"properties\":{\"defaultValue\":\"staging\",\"isDisabled\":false,\"isMultiselect\":\"false\",\"isVisible\":true,\"label\":\"Service (optional)\",\"options\":\"${listServiceDefinitions0?.outputs}\",\"placeholder\":\"Associate a service\"},\"type\":\"select\"}],\"isVisible\":\"true\",\"layout\":{\"default\":{\"height\":7,\"width\":12,\"x\":0,\"y\":29}}},\"type\":\"gridCell\"},{\"events\":[],\"name\":\"gridCell1\",\"properties\":{\"children\":[{\"events\":[],\"name\":\"justification\",\"properties\":{\"defaultValue\":\"\",\"isDisabled\":false,\"isVisible\":true,\"label\":\"Justification*\",\"placeholder\":\"Provide an overview of why you are creating the S3 bucket\"},\"type\":\"textArea\"}],\"isVisible\":\"true\",\"layout\":{\"default\":{\"height\":13,\"width\":12,\"x\":0,\"y\":37}}},\"type\":\"gridCell\"}]},\"type\":\"grid\"}],\"hasBackground\":true,\"isVisible\":true},\"type\":\"container\"}],\"isVisible\":\"true\",\"layout\":{\"default\":{\"height\":56,\"width\":6,\"x\":3,\"y\":28}}},\"type\":\"gridCell\"},{\"events\":[],\"name\":\"modal0\",\"properties\":{\"children\":[{\"events\":[],\"name\":\"grid4\",\"properties\":{\"children\":[{\"events\":[],\"name\":\"gridCell11\",\"properties\":{\"children\":[{\"events\":[],\"name\":\"text2\",\"properties\":{\"content\":\"# Success\\nView your terraform [here]()\",\"contentType\":\"markdown\",\"isVisible\":true,\"textAlign\":\"center\",\"verticalAlign\":\"top\"},\"type\":\"text\"}],\"isVisible\":\"true\",\"layout\":{\"default\":{\"height\":14,\"width\":12,\"x\":0,\"y\":8}}},\"type\":\"gridCell\"}]},\"type\":\"grid\"}],\"isVisible\":true,\"size\":\"sm\",\"title\":\"View file\"},\"type\":\"modal\"},{\"events\":[],\"name\":\"gridCell3\",\"properties\":{\"children\":[{\"events\":[],\"name\":\"text0\",\"properties\":{\"content\":\"# \\u0026nbsp; Create S3 Bucket with Terraform\\n\\u0026nbsp; Hey ${global?.user.name} \U0001F44B,\\nfill out the form to generate the terraform for a new S3 bucket. You will receive the output as a PR and receive a slack notification with a link to your new S3 bucket when approved.\",\"contentType\":\"markdown\",\"isVisible\":true,\"textAlign\":\"center\",\"verticalAlign\":\"center\"},\"type\":\"text\"}],\"isVisible\":\"true\",\"layout\":{\"default\":{\"height\":14,\"width\":6,\"x\":3,\"y\":14}}},\"type\":\"gridCell\"},{\"events\":[],\"name\":\"gridCell6\",\"properties\":{\"children\":[{\"events\":[],\"name\":\"container0\",\"properties\":{\"children\":[{\"events\":[],\"name\":\"grid1\",\"properties\":{\"children\":[{\"events\":[],\"name\":\"gridCell7\",\"properties\":{\"children\":[{\"events\":[],\"name\":\"text5\",\"properties\":{\"content\":\"![](https://app-builder-demo.s3.amazonaws.com/github/githublogo.png)\",\"contentType\":\"markdown\",\"isVisible\":true,\"textAlign\":\"center\",\"verticalAlign\":\"top\"},\"type\":\"text\"}],\"isVisible\":\"true\",\"layout\":{\"default\":{\"height\":9,\"width\":2,\"x\":5,\"y\":0}}},\"type\":\"gridCell\"}]},\"type\":\"grid\"}],\"hasBackground\":false,\"isVisible\":true},\"type\":\"container\"}],\"isVisible\":\"true\",\"layout\":{\"default\":{\"height\":14,\"width\":4,\"x\":4,\"y\":0}}},\"type\":\"gridCell\"}]},\"type\":\"grid\"}],\"connections\":[{\"id\":\"11111111-1111-1111-1111-111111111111\",\"name\":\"A connection that will be overridden\"}],\"deployment\":{\"app_version_id\":\"00000000-0000-0000-0000-000000000000\",\"id\":\"11111111-1111-1111-1111-111111111111\"},\"description\":\"Fill out the form to generate the terraform for a new S3 bucket in Github. Created using the Datadog provider in Terraform\",\"favorite\":false,\"id\":\"11111111-2222-3333-4444-555555555555\",\"name\":\"tf-TestAccDatadogAppBuilderAppResource_FromFile-local-1742436692\",\"queries\":[{\"id\":\"2480671a-04a8-4bd3-91ac-82f723ae145e\",\"name\":\"getServiceNames\",\"properties\":{\"outputs\":\"${(() =\\u003e {// Write the body of your\\n// transform function here.\\n\\n// Remember to return a value. \\n\\nreturn listServiceDefinitions0.outputs.data.map(output =\\u003e output.attributes.schema['dd-service']);})()}\"},\"type\":\"dataTransform\"},{\"id\":\"4699ffaf-92ca-4e51-8a46-fac54ba1b6c2\",\"name\":\"getServiceLink\",\"properties\":{\"outputs\":\"${(() =\\u003e {// Write the body of your\\n// transform function here.\\n\\n// Remember to return a value. \\n\\nfunction getPagerDutyLink(ddService, data) {\\n    // Iterate over the data array to find the matching dd-service\\n    for (let i = 0; i \\u003c data.length; i++) {\\n        if (data[i].attributes.schema['dd-service'] === ddService) {\\n            // Return the corresponding PagerDuty link and exit the function\\n            return data[i].attributes.schema.integrations.pagerduty;\\n        }\\n    }\\n    // If no matching service is found, return null or an appropriate message\\n    return null;\\n}\\n\\nreturn getPagerDutyLink(region.value,listServiceDefinitions0.outputs.data)\\n})()}\"},\"type\":\"dataTransform\"},{\"id\":\"e70f70d1-2c52-48a5-80a6-63fd50854f94\",\"name\":\"getServiceId\",\"properties\":{\"outputs\":\"${(() =\\u003e {function parseExample(url) {\\n    // Create a URL object from the given string\\n    const urlObj = new URL(url);\\n\\n    // Get the pathname from the URL object\\n    const pathname = urlObj.pathname;\\n\\n    // Split the pathname into parts using '/' as a delimiter\\n    const parts = pathname.split('/');\\n\\n    // The last part of the array will be \\\"example0\\\"\\n    const example = parts[parts.length - 1];\\n\\n    return example;\\n}\\n\\n// Example usage\\nreturn parseExample(getServiceLink.outputs[0].attributes.schema.integrations.pagerduty)})()}\"},\"type\":\"dataTransform\"},{\"events\":[{\"modalName\":\"confirmation\",\"name\":\"executionFinished\",\"type\":\"openModal\"}],\"id\":\"361a76b5-a868-4998-9bca-5b9dd3a8e287\",\"name\":\"createOrUpdateFile0\",\"properties\":{\"onlyTriggerManually\":true,\"spec\":{\"fqn\":\"com.datadoghq.github.createOrUpdateFile\",\"inputs\":{\"baseBranch\":\"main\",\"branchWithChanges\":\"new-s3-bucket-${bucketName.value}\",\"content\":\"resource \\\"aws_s3_bucket\\\" \\\"example\\\" {\\n  bucket = \\\"${bucketName.value}\\\"\\n\\n  tags = {\\n    Team = \\\"${owner.value}\\\"\\n    Service = \\\"${service.value}\\\"\\n    Environment = \\\"Dev\\\"\\n  }\\n}\",\"path\":\"generated-projects/My-Demo/${bucketName.value}.tf\",\"prDescription\":\"Auto-generating terraform for new s3 bucket for:\\n${justification.value}\",\"prTitle\":\"new-s3-bucket-${bucketName.value}\",\"repository\":\"DataDog/app-builder-demo\"}}},\"type\":\"action\"},{\"id\":\"0ca0ea43-3e3a-4071-b6aa-15b72075e0c6\",\"name\":\"listTeams0\",\"properties\":{\"onlyTriggerManually\":false,\"outputs\":\"${((outputs) =\\u003e {// Use 'outputs' to reference the query's unformatted output.\\n\\n// TODO: Apply transformations to the raw query output\\n\\nreturn outputs.data.map(item =\\u003e item.attributes.name);})(self.rawOutputs)}\",\"spec\":{\"connectionId\":\"11111111-2222-3333-4444-555555555555\",\"fqn\":\"com.datadoghq.dd.teams.listTeams\",\"inputs\":{}}},\"type\":\"action\"},{\"id\":\"8c203cf9-77c9-4167-a982-cb920714f3e7\",\"name\":\"listServiceDefinitions0\",\"properties\":{\"outputs\":\"${((outputs) =\\u003e {// Use 'outputs' to reference the query's unformatted output.\\n\\n// TODO: Apply transformations to the raw query output\\n\\nreturn outputs.data.map(output =\\u003e output.attributes.schema['dd-service']);})(self.rawOutputs)}\",\"spec\":{\"connectionId\":\"11111111-1111-1111-1111-111111111111\",\"fqn\":\"com.datadoghq.dd.service_catalog.listServiceDefinitions\",\"inputs\":{\"limit\":1000}}},\"type\":\"action\"}],\"rootInstanceName\":\"grid0\",\"selfService\":false,\"tags\":[]},\"type\":\"appDefinitions\"}}\n"
        form: {}
        headers:
            Accept:
                - application/json
            Content-Type:
                - application/json
        url: https://api.datadoghq.com/api/v2/app-builder/apps
        method: POST
      response:
        proto: HTTP/1.1
        proto_major: 1
        proto_minor: 1
        transfer_encoding: []
        trailer: {}
        content_length: 78
        uncompressed: false
        body: '{"data":{"id":"3f2a07aa-ef73-4ceb-97ae-432c8349e39b","type":"appDefinitions"}}'
        headers:
            Content-Type:
                - application/vnd.api+json
        status: 201 Created
        code: 201
        duration: 283.485333ms
    - id: 1
      request:
        proto: HTTP/1.1
        proto_major: 1
        proto_minor: 1
        content_length: 0
        transfer_encoding: []
        trailer: {}
        host: api.datadoghq.com
        remote_addr: ""
        request_uri: ""
        body: ""
        form: {}
        headers:
            Accept:
                - application/json
        url: https://api.datadoghq.com/api/v2/app-builder/apps/3f2a07aa-ef73-4ceb-97ae-432c8349e39b/deployment
        method: DELETE
      response:
        proto: HTTP/1.1
        proto_major: 1
        proto_minor: 1
        transfer_encoding: []
        trailer: {}
        content_length: 299
        uncompressed: false
        body: '{"data":{"id":"1675f900-b452-4c07-b876-33e4d95f2472","type":"deployment","attributes":{"app_version_id":"00000000-0000-0000-0000-000000000000"},"meta":{"created_at":"2025-03-20T02:11:34.855904Z","user_id":1445416,"user_uuid":"3ad549bf-eba0-11e9-a77a-0705486660d0","user_name":"frog@datadoghq.com"}}}'
        headers:
            Content-Type:
                - application/vnd.api+json
        status: 200 OK
        code: 200
        duration: 204.492959ms
    - id: 2
      request:
        proto: HTTP/1.1
        proto_major: 1
        proto_minor: 1
        content_length: 0
        transfer_encoding: []
        trailer: {}
        host: api.datadoghq.com
        remote_addr: ""
        request_uri: ""
        body: ""
        form: {}
        headers:
            Accept:
                - application/json
        url: https://api.datadoghq.com/api/v2/app-builder/apps/3f2a07aa-ef73-4ceb-97ae-432c8349e39b
        method: GET
      response:
        proto: HTTP/1.1
        proto_major: 1
        proto_minor: 1
        transfer_encoding: []
        trailer: {}
        content_length: -1
        uncompressed: true
        body: "{\"data\":{\"id\":\"3f2a07aa-ef73-4ceb-97ae-432c8349e39b\",\"type\":\"appDefinitions\",\"attributes\":{\"components\":[{\"events\":[],\"name\":\"grid0\",\"properties\":{\"backgroundColor\":\"default\",\"children\":[{\"events\":[],\"name\":\"confirmation\",\"properties\":{\"children\":[{\"events\":[],\"name\":\"grid2\",\"properties\":{\"children\":[{\"events\":[],\"name\":\"gridCell8\",\"properties\":{\"children\":[{\"events\":[],\"name\":\"text4\",\"properties\":{\"content\":\"## ✅ You've successfully created a pull request\",\"contentType\":\"markdown\",\"isVisible\":true,\"textAlign\":\"center\",\"verticalAlign\":\"center\"},\"type\":\"text\"}],\"isVisible\":\"true\",\"layout\":{\"default\":{\"height\":5,\"width\":12,\"x\":0,\"y\":0}}},\"type\":\"gridCell\"},{\"events\":[],\"name\":\"gridCell10\",\"properties\":{\"children\":[{\"events\":[{\"name\":\"click\",\"type\":\"openUrl\",\"url\":\"${createOrUpdateFile0?.outputs.data.url}\"}],\"name\":\"button1\",\"properties\":{\"isBorderless\":false,\"isDisabled\":false,\"isLoading\":false,\"isPrimary\":true,\"isVisible\":true,\"label\":\"Open\",\"level\":\"default\"},\"type\":\"button\"}],\"isVisible\":\"true\",\"layout\":{\"default\":{\"height\":4,\"width\":4,\"x\":4,\"y\":17}}},\"type\":\"gridCell\"},{\"events\":[],\"name\":\"gridCell0\",\"properties\":{\"children\":[{\"events\":[],\"name\":\"text1\",\"properties\":{\"content\":\"The request is assigned to the infrastructure team for approval. You will receive a slack notification when it is approved with the link to your new S3 bucket\",\"contentType\":\"plain_text\",\"isVisible\":true,\"textAlign\":\"center\",\"verticalAlign\":\"top\"},\"type\":\"text\"}],\"isVisible\":\"true\",\"layout\":{\"default\":{\"height\":8,\"width\":12,\"x\":0,\"y\":6}}},\"type\":\"gridCell\"}]},\"type\":\"grid\"}],\"isVisible\":true,\"size\":\"sm\",\"title\":\"Status\"},\"type\":\"modal\"},{\"events\":[],\"name\":\"gridCell9\",\"properties\":{\"children\":[{\"events\":[{\"name\":\"click\",\"queryName\":\"createOrUpdateFile0\",\"type\":\"triggerQuery\"}],\"name\":\"button0\",\"properties\":{\"isBorderless\":false,\"isDisabled\":false,\"isLoading\":\"${createOrUpdateFile0?.isLoading}\",\"isPrimary\":true,\"isVisible\":true,\"label\":\"Create PR\",\"level\":\"default\"},\"type\":\"button\"}],\"isVisible\":\"true\",\"layout\":{\"default\":{\"height\":4,\"width\":6,\"x\":3,\"y\":85}}},\"type\":\"gridCell\"},{\"events\":[],\"name\":\"gridCell5\",\"properties\":{\"children\":[{\"events\":[],\"name\":\"form\",\"properties\":{\"children\":[{\"events\":[],\"name\":\"grid3\",\"properties\":{\"children\":[{\"events\":[],\"name\":\"gridCell2\",\"properties\":{\"children\":[{\"events\":[],\"name\":\"region\",\"properties\":{\"defaultValue\":\"\",\"isDisabled\":false,\"isMultiselect\":\"false\",\"isVisible\":true,\"label\":\"Region*\",\"options\":\"[\\n    {\\n        \\\"label\\\": \\\"US East (N. Virginia)\\\",\\n        \\\"value\\\": \\\"us-east-1\\\"\\n    },\\n    {\\n        \\\"label\\\": \\\"US East (Ohio)\\\",\\n        \\\"value\\\": \\\"us-east-2\\\"\\n    },\\n    {\\n        \\\"label\\\": \\\"US West (N. California)\\\",\\n        \\\"value\\\": \\\"us-west-1\\\"\\n    },\\n    {\\n        \\\"label\\\": \\\"US West (Oregon)\\\",\\n        \\\"value\\\": \\\"us-west-2\\\"\\n    },\\n    {\\n        \\\"label\\\": \\\"Africa (Cape Town)\\\",\\n        \\\"value\\\": \\\"af-south-1\\\"\\n    },\\n    {\\n        \\\"label\\\": \\\"Asia Pacific (Hong Kong)\\\",\\n        \\\"value\\\": \\\"ap-east-1\\\"\\n    },\\n    {\\n        \\\"label\\\": \\\"Asia Pacific (Hyderabad)\\\",\\n        \\\"value\\\": \\\"ap-south-2\\\"\\n    },\\n    {\\n        \\\"label\\\": \\\"Asia Pacific (Jakarta)\\\",\\n        \\\"value\\\": \\\"ap-southeast-3\\\"\\n    },\\n    {\\n        \\\"label\\\": \\\"Asia Pacific (Mumbai)\\\",\\n        \\\"value\\\": \\\"ap-south-1\\\"\\n    },\\n    {\\n        \\\"label\\\": \\\"Asia Pacific (Osaka)\\\",\\n        \\\"value\\\": \\\"ap-northeast-3\\\"\\n    },\\n    {\\n        \\\"label\\\": \\\"Asia Pacific (Seoul)\\\",\\n        \\\"value\\\": \\\"ap-northeast-2\\\"\\n    },\\n    {\\n        \\\"label\\\": \\\"Asia Pacific (Singapore)\\\",\\n        \\\"value\\\": \\\"ap-southeast-1\\\"\\n    },\\n    {\\n        \\\"label\\\": \\\"Asia Pacific (Sydney)\\\",\\n        \\\"value\\\": \\\"ap-southeast-2\\\"\\n    },\\n    {\\n        \\\"label\\\": \\\"Asia Pacific (Tokyo)\\\",\\n        \\\"value\\\": \\\"ap-northeast-1\\\"\\n    },\\n    {\\n        \\\"label\\\": \\\"Canada (Central)\\\",\\n        \\\"value\\\": \\\"ca-central-1\\\"\\n    },\\n    {\\n        \\\"label\\\": \\\"China (Beijing)\\\",\\n        \\\"value\\\": \\\"cn-north-1\\\"\\n    },\\n    {\\n        \\\"label\\\": \\\"China (Ningxia)\\\",\\n        \\\"value\\\": \\\"cn-northwest-1\\\"\\n    },\\n    {\\n        \\\"label\\\": \\\"Europe (Frankfurt)\\\",\\n        \\\"value\\\": \\\"eu-central-1\\\"\\n    },\\n    {\\n        \\\"label\\\": \\\"Europe (Ireland)\\\",\\n        \\\"value\\\": \\\"eu-west-1\\\"\\n    },\\n    {\\n        \\\"label\\\": \\\"Europe (London)\\\",\\n        \\\"value\\\": \\\"eu-west-2\\\"\\n    },\\n    {\\n        \\\"label\\\": \\\"Europe (Milan)\\\",\\n        \\\"value\\\": \\\"eu-south-1\\\"\\n    },\\n    {\\n        \\\"label\\\": \\\"Europe (Paris)\\\",\\n        \\\"value\\\": \\\"eu-west-3\\\"\\n    },\\n    {\\n        \\\"label\\\": \\\"Europe (Spain)\\\",\\n        \\\"value\\\": \\\"eu-south-2\\\"\\n    },\\n    {\\n        \\\"label\\\": \\\"Europe (Stockholm)\\\",\\n        \\\"value\\\": \\\"eu-north-1\\\"\\n    },\\n    {\\n        \\\"label\\\": \\\"Middle East (Bahrain)\\\",\\n        \\\"value\\\": \\\"me-south-1\\\"\\n    },\\n    {\\n        \\\"label\\\": \\\"Middle East (UAE)\\\",\\n        \\\"value\\\": \\\"me-central-1\\\"\\n    },\\n    {\\n        \\\"label\\\": \\\"South America (São Paulo)\\\",\\n        \\\"value\\\": \\\"sa-east-1\\\"\\n    },\\n    {\\n        \\\"label\\\": \\\"AWS GovCloud (US-East)\\\",\\n        \\\"value\\\": \\\"us-gov-east-1\\\"\\n    },\\n    {\\n        \\\"label\\\": \\\"AWS GovCloud (US-West)\\\",\\n        \\\"value\\\": \\\"us-gov-west-1\\\"\\n    },\\n    {\\n        \\\"label\\\": \\\"Israel (Tel Aviv)\\\",\\n        \\\"value\\\": \\\"il-central-1\\\"\\n    }\\n]\",\"placeholder\":\"Select a region\"},\"type\":\"select\"}],\"isVisible\":\"true\",\"layout\":{\"default\":{\"height\":7,\"width\":12,\"x\":0,\"y\":5}}},\"type\":\"gridCell\"},{\"events\":[],\"name\":\"gridCell4_copy\",\"properties\":{\"children\":[{\"events\":[],\"name\":\"bucketName\",\"properties\":{\"defaultValue\":\"\",\"isDisabled\":false,\"isVisible\":true,\"label\":\"Bucket Name*\",\"placeholder\":\"Indicate the name of the bucket\"},\"type\":\"textInput\"}],\"isVisible\":\"true\",\"layout\":{\"default\":{\"height\":7,\"width\":12,\"x\":0,\"y\":13}}},\"type\":\"gridCell\"},{\"events\":[],\"name\":\"gridCell4\",\"properties\":{\"children\":[{\"events\":[],\"name\":\"text3\",\"properties\":{\"content\":\"## Bucket Info\",\"contentType\":\"markdown\",\"isVisible\":true,\"textAlign\":\"left\",\"verticalAlign\":\"top\"},\"type\":\"text\"}],\"isVisible\":\"true\",\"layout\":{\"default\":{\"height\":4,\"width\":12,\"x\":0,\"y\":0}}},\"type\":\"gridCell\"},{\"events\":[],\"name\":\"gridCell15\",\"properties\":{\"children\":[{\"events\":[],\"name\":\"owner\",\"properties\":{\"defaultValue\":\"alerting\",\"isDisabled\":false,\"isMultiselect\":\"false\",\"isVisible\":true,\"label\":\"Owner*\",\"options\":\"${listTeams0?.outputs}\",\"placeholder\":\"Select an owning team\"},\"type\":\"select\"}],\"isVisible\":\"true\",\"layout\":{\"default\":{\"height\":7,\"width\":12,\"x\":0,\"y\":21}}},\"type\":\"gridCell\"},{\"events\":[],\"name\":\"gridCell16\",\"properties\":{\"children\":[{\"events\":[],\"name\":\"service\",\"properties\":{\"defaultValue\":\"staging\",\"isDisabled\":false,\"isMultiselect\":\"false\",\"isVisible\":true,\"label\":\"Service (optional)\",\"options\":\"${listServiceDefinitions0?.outputs}\",\"placeholder\":\"Associate a service\"},\"type\":\"select\"}],\"isVisible\":\"true\",\"layout\":{\"default\":{\"height\":7,\"width\":12,\"x\":0,\"y\":29}}},\"type\":\"gridCell\"},{\"events\":[],\"name\":\"gridCell1\",\"properties\":{\"children\":[{\"events\":[],\"name\":\"justification\",\"properties\":{\"defaultValue\":\"\",\"isDisabled\":false,\"isVisible\":true,\"label\":\"Justification*\",\"placeholder\":\"Provide an overview of why you are creating the S3 bucket\"},\"type\":\"textArea\"}],\"isVisible\":\"true\",\"layout\":{\"default\":{\"height\":13,\"width\":12,\"x\":0,\"y\":37}}},\"type\":\"gridCell\"}]},\"type\":\"grid\"}],\"hasBackground\":true,\"isVisible\":true},\"type\":\"container\"}],\"isVisible\":\"true\",\"layout\":{\"default\":{\"height\":56,\"width\":6,\"x\":3,\"y\":28}}},\"type\":\"gridCell\"},{\"events\":[],\"name\":\"modal0\",\"properties\":{\"children\":[{\"events\":[],\"name\":\"grid4\",\"properties\":{\"children\":[{\"events\":[],\"name\":\"gridCell11\",\"properties\":{\"children\":[{\"events\":[],\"name\":\"text2\",\"properties\":{\"content\":\"# Success\\nView your terraform [here]()\",\"contentType\":\"markdown\",\"isVisible\":true,\"textAlign\":\"center\",\"verticalAlign\":\"top\"},\"type\":\"text\"}],\"isVisible\":\"true\",\"layout\":{\"default\":{\"height\":14,\"width\":12,\"x\":0,\"y\":8}}},\"type\":\"gridCell\"}]},\"type\":\"grid\"}],\"isVisible\":true,\"size\":\"sm\",\"title\":\"View file\"},\"type\":\"modal\"},{\"events\":[],\"name\":\"gridCell3\",\"properties\":{\"children\":[{\"events\":[],\"name\":\"text0\",\"properties\":{\"content\":\"# \\u0026nbsp; Create S3 Bucket with Terraform\\n\\u0026nbsp; Hey ${global?.user.name} \U0001F44B,\\nfill out the form to generate the terraform for a new S3 bucket. You will receive the output as a PR and receive a slack notification with a link to your new S3 bucket when approved.\",\"contentType\":\"markdown\",\"isVisible\":true,\"textAlign\":\"center\",\"verticalAlign\":\"center\"},\"type\":\"text\"}],\"isVisible\":\"true\",\"layout\":{\"default\":{\"height\":14,\"width\":6,\"x\":3,\"y\":14}}},\"type\":\"gridCell\"},{\"events\":[],\"name\":\"gridCell6\",\"properties\":{\"children\":[{\"events\":[],\"name\":\"container0\",\"properties\":{\"children\":[{\"events\":[],\"name\":\"grid1\",\"properties\":{\"children\":[{\"events\":[],\"name\":\"gridCell7\",\"properties\":{\"children\":[{\"events\":[],\"name\":\"text5\",\"properties\":{\"content\":\"![](https://app-builder-demo.s3.amazonaws.com/github/githublogo.png)\",\"contentType\":\"markdown\",\"isVisible\":true,\"textAlign\":\"center\",\"verticalAlign\":\"top\"},\"type\":\"text\"}],\"isVisible\":\"true\",\"layout\":{\"default\":{\"height\":9,\"width\":2,\"x\":5,\"y\":0}}},\"type\":\"gridCell\"}]},\"type\":\"grid\"}],\"hasBackground\":false,\"isVisible\":true},\"type\":\"container\"}],\"isVisible\":\"true\",\"layout\":{\"default\":{\"height\":14,\"width\":4,\"x\":4,\"y\":0}}},\"type\":\"gridCell\"}]},\"type\":\"grid\"}],\"description\":\"Fill out the form to generate the terraform for a new S3 bucket in Github. Created using the Datadog provider in Terraform\",\"favorite\":false,\"name\":\"tf-TestAccDatadogAppBuilderAppResource_FromFile-local-1742436692\",\"queries\":[{\"id\":\"2480671a-04a8-4bd3-91ac-82f723ae145e\",\"name\":\"getServiceNames\",\"type\":\"dataTransform\",\"properties\":{\"outputs\":\"${(() =\\u003e {// Write the body of your\\n// transform function here.\\n\\n// Remember to return a value. \\n\\nreturn listServiceDefinitions0.outputs.data.map(output =\\u003e output.attributes.schema['dd-service']);})()}\"}},{\"id\":\"4699ffaf-92ca-4e51-8a46-fac54ba1b6c2\",\"name\":\"getServiceLink\",\"type\":\"dataTransform\",\"properties\":{\"outputs\":\"${(() =\\u003e {// Write the body of your\\n// transform function here.\\n\\n// Remember to return a value. \\n\\nfunction getPagerDutyLink(ddService, data) {\\n    // Iterate over the data array to find the matching dd-service\\n    for (let i = 0; i \\u003c data.length; i++) {\\n        if (data[i].attributes.schema['dd-service'] === ddService) {\\n            // Return the corresponding PagerDuty link and exit the function\\n            return data[i].attributes.schema.integrations.pagerduty;\\n        }\\n    }\\n    // If no matching service is found, return null or an appropriate message\\n    return null;\\n}\\n\\nreturn getPagerDutyLink(region.value,listServiceDefinitions0.outputs.data)\\n})()}\"}},{\"id\":\"e70f70d1-2c52-48a5-80a6-63fd50854f94\",\"name\":\"getServiceId\",\"type\":\"dataTransform\",\"properties\":{\"outputs\":\"${(() =\\u003e {function parseExample(url) {\\n    // Create a URL object from the given string\\n    const urlObj = new URL(url);\\n\\n    // Get the pathname from the URL object\\n    const pathname = urlObj.pathname;\\n\\n    // Split the pathname into parts using '/' as a delimiter\\n    const parts = pathname.split('/');\\n\\n    // The last part of the array will be \\\"example0\\\"\\n    const example = parts[parts.length - 1];\\n\\n    return example;\\n}\\n\\n// Example usage\\nreturn parseExample(getServiceLink.outputs[0].attributes.schema.integrations.pagerduty)})()}\"}},{\"id\":\"361a76b5-a868-4998-9bca-5b9dd3a8e287\",\"name\":\"createOrUpdateFile0\",\"type\":\"action\",\"properties\":{\"onlyTriggerManually\":true,\"spec\":{\"fqn\":\"com.datadoghq.github.createOrUpdateFile\",\"inputs\":{\"baseBranch\":\"main\",\"branchWithChanges\":\"new-s3-bucket-${bucketName.value}\",\"content\":\"resource \\\"aws_s3_bucket\\\" \\\"example\\\" {\\n  bucket = \\\"${bucketName.value}\\\"\\n\\n  tags = {\\n    Team = \\\"${owner.value}\\\"\\n    Service = \\\"${service.value}\\\"\\n    Environment = \\\"Dev\\\"\\n  }\\n}\",\"path\":\"generated-projects/My-Demo/${bucketName.value}.tf\",\"prDescription\":\"Auto-generating terraform for new s3 bucket for:\\n${justification.value}\",\"prTitle\":\"new-s3-bucket-${bucketName.value}\",\"repository\":\"DataDog/app-builder-demo\"}}},\"events\":[{\"modalName\":\"confirmation\",\"name\":\"executionFinished\",\"type\":\"openModal\"}]},{\"id\":\"0ca0ea43-3e3a-4071-b6aa-15b72075e0c6\",\"name\":\"listTeams0\",\"type\":\"action\",\"properties\":{\"onlyTriggerManually\":false,\"outputs\":\"${((outputs) =\\u003e {// Use 'outputs' to reference the query's unformatted output.\\n\\n// TODO: Apply transformations to the raw query output\\n\\nreturn outputs.data.map(item =\\u003e item.attributes.name);})(self.rawOutputs)}\",\"spec\":{\"connectionId\":\"11111111-2222-3333-4444-555555555555\",\"fqn\":\"com.datadoghq.dd.teams.listTeams\",\"inputs\":{}}}},{\"id\":\"8c203cf9-77c9-4167-a982-cb920714f3e7\",\"name\":\"listServiceDefinitions0\",\"type\":\"action\",\"properties\":{\"outputs\":\"${((outputs) =\\u003e {// Use 'outputs' to reference the query's unformatted output.\\n\\n// TODO: Apply transformations to the raw query output\\n\\nreturn outputs.data.map(output =\\u003e output.attributes.schema['dd-service']);})(self.rawOutputs)}\",\"spec\":{\"connectionId\":\"11111111-1111-1111-1111-111111111111\",\"fqn\":\"com.datadoghq.dd.service_catalog.listServiceDefinitions\",\"inputs\":{\"limit\":1000}}}}],\"rootInstanceName\":\"grid0\",\"selfService\":false,\"tags\":[]},\"relationships\":{\"deployment\":{\"data\":{\"id\":\"1675f900-b452-4c07-b876-33e4d95f2472\",\"type\":\"deployment\"},\"meta\":{\"created_at\":\"2025-03-20T02:11:34.855904Z\",\"user_id\":1445416,\"user_uuid\":\"3ad549bf-eba0-11e9-a77a-0705486660d0\",\"user_name\":\"frog@datadoghq.com\"}}},\"meta\":{\"org_id\":321813,\"user_id\":1445416,\"user_uuid\":\"3ad549bf-eba0-11e9-a77a-0705486660d0\",\"user_name\":\"frog@datadoghq.com\",\"version\":1,\"updated_since_deployment\":false,\"created_at\":\"2025-03-20T02:11:34.599314Z\",\"updated_at\":\"2025-03-20T02:11:34.599314Z\",\"deleted_at\":\"0001-01-01T00:00:00Z\"}},\"included\":[{\"id\":\"1675f900-b452-4c07-b876-33e4d95f2472\",\"type\":\"deployment\",\"attributes\":{\"app_version_id\":\"00000000-0000-0000-0000-000000000000\"},\"meta\":{\"created_at\":\"2025-03-20T02:11:34.855904Z\",\"user_id\":1445416,\"user_uuid\":\"3ad549bf-eba0-11e9-a77a-0705486660d0\",\"user_name\":\"frog@datadoghq.com\"}}]}"
        headers:
            Content-Type:
                - application/vnd.api+json
        status: 200 OK
        code: 200
        duration: 165.142292ms
    - id: 3
      request:
        proto: HTTP/1.1
        proto_major: 1
        proto_minor: 1
        content_length: 0
        transfer_encoding: []
        trailer: {}
        host: api.datadoghq.com
        remote_addr: ""
        request_uri: ""
        body: ""
        form: {}
        headers:
            Accept:
                - application/json
        url: https://api.datadoghq.com/api/v2/app-builder/apps/3f2a07aa-ef73-4ceb-97ae-432c8349e39b
        method: GET
      response:
        proto: HTTP/1.1
        proto_major: 1
        proto_minor: 1
        transfer_encoding: []
        trailer: {}
        content_length: -1
        uncompressed: true
        body: "{\"data\":{\"id\":\"3f2a07aa-ef73-4ceb-97ae-432c8349e39b\",\"type\":\"appDefinitions\",\"attributes\":{\"components\":[{\"events\":[],\"name\":\"grid0\",\"properties\":{\"backgroundColor\":\"default\",\"children\":[{\"events\":[],\"name\":\"confirmation\",\"properties\":{\"children\":[{\"events\":[],\"name\":\"grid2\",\"properties\":{\"children\":[{\"events\":[],\"name\":\"gridCell8\",\"properties\":{\"children\":[{\"events\":[],\"name\":\"text4\",\"properties\":{\"content\":\"## ✅ You've successfully created a pull request\",\"contentType\":\"markdown\",\"isVisible\":true,\"textAlign\":\"center\",\"verticalAlign\":\"center\"},\"type\":\"text\"}],\"isVisible\":\"true\",\"layout\":{\"default\":{\"height\":5,\"width\":12,\"x\":0,\"y\":0}}},\"type\":\"gridCell\"},{\"events\":[],\"name\":\"gridCell10\",\"properties\":{\"children\":[{\"events\":[{\"name\":\"click\",\"type\":\"openUrl\",\"url\":\"${createOrUpdateFile0?.outputs.data.url}\"}],\"name\":\"button1\",\"properties\":{\"isBorderless\":false,\"isDisabled\":false,\"isLoading\":false,\"isPrimary\":true,\"isVisible\":true,\"label\":\"Open\",\"level\":\"default\"},\"type\":\"button\"}],\"isVisible\":\"true\",\"layout\":{\"default\":{\"height\":4,\"width\":4,\"x\":4,\"y\":17}}},\"type\":\"gridCell\"},{\"events\":[],\"name\":\"gridCell0\",\"properties\":{\"children\":[{\"events\":[],\"name\":\"text1\",\"properties\":{\"content\":\"The request is assigned to the infrastructure team for approval. You will receive a slack notification when it is approved with the link to your new S3 bucket\",\"contentType\":\"plain_text\",\"isVisible\":true,\"textAlign\":\"center\",\"verticalAlign\":\"top\"},\"type\":\"text\"}],\"isVisible\":\"true\",\"layout\":{\"default\":{\"height\":8,\"width\":12,\"x\":0,\"y\":6}}},\"type\":\"gridCell\"}]},\"type\":\"grid\"}],\"isVisible\":true,\"size\":\"sm\",\"title\":\"Status\"},\"type\":\"modal\"},{\"events\":[],\"name\":\"gridCell9\",\"properties\":{\"children\":[{\"events\":[{\"name\":\"click\",\"queryName\":\"createOrUpdateFile0\",\"type\":\"triggerQuery\"}],\"name\":\"button0\",\"properties\":{\"isBorderless\":false,\"isDisabled\":false,\"isLoading\":\"${createOrUpdateFile0?.isLoading}\",\"isPrimary\":true,\"isVisible\":true,\"label\":\"Create PR\",\"level\":\"default\"},\"type\":\"button\"}],\"isVisible\":\"true\",\"layout\":{\"default\":{\"height\":4,\"width\":6,\"x\":3,\"y\":85}}},\"type\":\"gridCell\"},{\"events\":[],\"name\":\"gridCell5\",\"properties\":{\"children\":[{\"events\":[],\"name\":\"form\",\"properties\":{\"children\":[{\"events\":[],\"name\":\"grid3\",\"properties\":{\"children\":[{\"events\":[],\"name\":\"gridCell2\",\"properties\":{\"children\":[{\"events\":[],\"name\":\"region\",\"properties\":{\"defaultValue\":\"\",\"isDisabled\":false,\"isMultiselect\":\"false\",\"isVisible\":true,\"label\":\"Region*\",\"options\":\"[\\n    {\\n        \\\"label\\\": \\\"US East (N. Virginia)\\\",\\n        \\\"value\\\": \\\"us-east-1\\\"\\n    },\\n    {\\n        \\\"label\\\": \\\"US East (Ohio)\\\",\\n        \\\"value\\\": \\\"us-east-2\\\"\\n    },\\n    {\\n        \\\"label\\\": \\\"US West (N. California)\\\",\\n        \\\"value\\\": \\\"us-west-1\\\"\\n    },\\n    {\\n        \\\"label\\\": \\\"US West (Oregon)\\\",\\n        \\\"value\\\": \\\"us-west-2\\\"\\n    },\\n    {\\n        \\\"label\\\": \\\"Africa (Cape Town)\\\",\\n        \\\"value\\\": \\\"af-south-1\\\"\\n    },\\n    {\\n        \\\"label\\\": \\\"Asia Pacific (Hong Kong)\\\",\\n        \\\"value\\\": \\\"ap-east-1\\\"\\n    },\\n    {\\n        \\\"label\\\": \\\"Asia Pacific (Hyderabad)\\\",\\n        \\\"value\\\": \\\"ap-south-2\\\"\\n    },\\n    {\\n        \\\"label\\\": \\\"Asia Pacific (Jakarta)\\\",\\n        \\\"value\\\": \\\"ap-southeast-3\\\"\\n    },\\n    {\\n        \\\"label\\\": \\\"Asia Pacific (Mumbai)\\\",\\n        \\\"value\\\": \\\"ap-south-1\\\"\\n    },\\n    {\\n        \\\"label\\\": \\\"Asia Pacific (Osaka)\\\",\\n        \\\"value\\\": \\\"ap-northeast-3\\\"\\n    },\\n    {\\n        \\\"label\\\": \\\"Asia Pacific (Seoul)\\\",\\n        \\\"value\\\": \\\"ap-northeast-2\\\"\\n    },\\n    {\\n        \\\"label\\\": \\\"Asia Pacific (Singapore)\\\",\\n        \\\"value\\\": \\\"ap-southeast-1\\\"\\n    },\\n    {\\n        \\\"label\\\": \\\"Asia Pacific (Sydney)\\\",\\n        \\\"value\\\": \\\"ap-southeast-2\\\"\\n    },\\n    {\\n        \\\"label\\\": \\\"Asia Pacific (Tokyo)\\\",\\n        \\\"value\\\": \\\"ap-northeast-1\\\"\\n    },\\n    {\\n        \\\"label\\\": \\\"Canada (Central)\\\",\\n        \\\"value\\\": \\\"ca-central-1\\\"\\n    },\\n    {\\n        \\\"label\\\": \\\"China (Beijing)\\\",\\n        \\\"value\\\": \\\"cn-north-1\\\"\\n    },\\n    {\\n        \\\"label\\\": \\\"China (Ningxia)\\\",\\n        \\\"value\\\": \\\"cn-northwest-1\\\"\\n    },\\n    {\\n        \\\"label\\\": \\\"Europe (Frankfurt)\\\",\\n        \\\"value\\\": \\\"eu-central-1\\\"\\n    },\\n    {\\n        \\\"label\\\": \\\"Europe (Ireland)\\\",\\n        \\\"value\\\": \\\"eu-west-1\\\"\\n    },\\n    {\\n        \\\"label\\\": \\\"Europe (London)\\\",\\n        \\\"value\\\": \\\"eu-west-2\\\"\\n    },\\n    {\\n        \\\"label\\\": \\\"Europe (Milan)\\\",\\n        \\\"value\\\": \\\"eu-south-1\\\"\\n    },\\n    {\\n        \\\"label\\\": \\\"Europe (Paris)\\\",\\n        \\\"value\\\": \\\"eu-west-3\\\"\\n    },\\n    {\\n        \\\"label\\\": \\\"Europe (Spain)\\\",\\n        \\\"value\\\": \\\"eu-south-2\\\"\\n    },\\n    {\\n        \\\"label\\\": \\\"Europe (Stockholm)\\\",\\n        \\\"value\\\": \\\"eu-north-1\\\"\\n    },\\n    {\\n        \\\"label\\\": \\\"Middle East (Bahrain)\\\",\\n        \\\"value\\\": \\\"me-south-1\\\"\\n    },\\n    {\\n        \\\"label\\\": \\\"Middle East (UAE)\\\",\\n        \\\"value\\\": \\\"me-central-1\\\"\\n    },\\n    {\\n        \\\"label\\\": \\\"South America (São Paulo)\\\",\\n        \\\"value\\\": \\\"sa-east-1\\\"\\n    },\\n    {\\n        \\\"label\\\": \\\"AWS GovCloud (US-East)\\\",\\n        \\\"value\\\": \\\"us-gov-east-1\\\"\\n    },\\n    {\\n        \\\"label\\\": \\\"AWS GovCloud (US-West)\\\",\\n        \\\"value\\\": \\\"us-gov-west-1\\\"\\n    },\\n    {\\n        \\\"label\\\": \\\"Israel (Tel Aviv)\\\",\\n        \\\"value\\\": \\\"il-central-1\\\"\\n    }\\n]\",\"placeholder\":\"Select a region\"},\"type\":\"select\"}],\"isVisible\":\"true\",\"layout\":{\"default\":{\"height\":7,\"width\":12,\"x\":0,\"y\":5}}},\"type\":\"gridCell\"},{\"events\":[],\"name\":\"gridCell4_copy\",\"properties\":{\"children\":[{\"events\":[],\"name\":\"bucketName\",\"properties\":{\"defaultValue\":\"\",\"isDisabled\":false,\"isVisible\":true,\"label\":\"Bucket Name*\",\"placeholder\":\"Indicate the name of the bucket\"},\"type\":\"textInput\"}],\"isVisible\":\"true\",\"layout\":{\"default\":{\"height\":7,\"width\":12,\"x\":0,\"y\":13}}},\"type\":\"gridCell\"},{\"events\":[],\"name\":\"gridCell4\",\"properties\":{\"children\":[{\"events\":[],\"name\":\"text3\",\"properties\":{\"content\":\"## Bucket Info\",\"contentType\":\"markdown\",\"isVisible\":true,\"textAlign\":\"left\",\"verticalAlign\":\"top\"},\"type\":\"text\"}],\"isVisible\":\"true\",\"layout\":{\"default\":{\"height\":4,\"width\":12,\"x\":0,\"y\":0}}},\"type\":\"gridCell\"},{\"events\":[],\"name\":\"gridCell15\",\"properties\":{\"children\":[{\"events\":[],\"name\":\"owner\",\"properties\":{\"defaultValue\":\"alerting\",\"isDisabled\":false,\"isMultiselect\":\"false\",\"isVisible\":true,\"label\":\"Owner*\",\"options\":\"${listTeams0?.outputs}\",\"placeholder\":\"Select an owning team\"},\"type\":\"select\"}],\"isVisible\":\"true\",\"layout\":{\"default\":{\"height\":7,\"width\":12,\"x\":0,\"y\":21}}},\"type\":\"gridCell\"},{\"events\":[],\"name\":\"gridCell16\",\"properties\":{\"children\":[{\"events\":[],\"name\":\"service\",\"properties\":{\"defaultValue\":\"staging\",\"isDisabled\":false,\"isMultiselect\":\"false\",\"isVisible\":true,\"label\":\"Service (optional)\",\"options\":\"${listServiceDefinitions0?.outputs}\",\"placeholder\":\"Associate a service\"},\"type\":\"select\"}],\"isVisible\":\"true\",\"layout\":{\"default\":{\"height\":7,\"width\":12,\"x\":0,\"y\":29}}},\"type\":\"gridCell\"},{\"events\":[],\"name\":\"gridCell1\",\"properties\":{\"children\":[{\"events\":[],\"name\":\"justification\",\"properties\":{\"defaultValue\":\"\",\"isDisabled\":false,\"isVisible\":true,\"label\":\"Justification*\",\"placeholder\":\"Provide an overview of why you are creating the S3 bucket\"},\"type\":\"textArea\"}],\"isVisible\":\"true\",\"layout\":{\"default\":{\"height\":13,\"width\":12,\"x\":0,\"y\":37}}},\"type\":\"gridCell\"}]},\"type\":\"grid\"}],\"hasBackground\":true,\"isVisible\":true},\"type\":\"container\"}],\"isVisible\":\"true\",\"layout\":{\"default\":{\"height\":56,\"width\":6,\"x\":3,\"y\":28}}},\"type\":\"gridCell\"},{\"events\":[],\"name\":\"modal0\",\"properties\":{\"children\":[{\"events\":[],\"name\":\"grid4\",\"properties\":{\"children\":[{\"events\":[],\"name\":\"gridCell11\",\"properties\":{\"children\":[{\"events\":[],\"name\":\"text2\",\"properties\":{\"content\":\"# Success\\nView your terraform [here]()\",\"contentType\":\"markdown\",\"isVisible\":true,\"textAlign\":\"center\",\"verticalAlign\":\"top\"},\"type\":\"text\"}],\"isVisible\":\"true\",\"layout\":{\"default\":{\"height\":14,\"width\":12,\"x\":0,\"y\":8}}},\"type\":\"gridCell\"}]},\"type\":\"grid\"}],\"isVisible\":true,\"size\":\"sm\",\"title\":\"View file\"},\"type\":\"modal\"},{\"events\":[],\"name\":\"gridCell3\",\"properties\":{\"children\":[{\"events\":[],\"name\":\"text0\",\"properties\":{\"content\":\"# \\u0026nbsp; Create S3 Bucket with Terraform\\n\\u0026nbsp; Hey ${global?.user.name} \U0001F44B,\\nfill out the form to generate the terraform for a new S3 bucket. You will receive the output as a PR and receive a slack notification with a link to your new S3 bucket when approved.\",\"contentType\":\"markdown\",\"isVisible\":true,\"textAlign\":\"center\",\"verticalAlign\":\"center\"},\"type\":\"text\"}],\"isVisible\":\"true\",\"layout\":{\"default\":{\"height\":14,\"width\":6,\"x\":3,\"y\":14}}},\"type\":\"gridCell\"},{\"events\":[],\"name\":\"gridCell6\",\"properties\":{\"children\":[{\"events\":[],\"name\":\"container0\",\"properties\":{\"children\":[{\"events\":[],\"name\":\"grid1\",\"properties\":{\"children\":[{\"events\":[],\"name\":\"gridCell7\",\"properties\":{\"children\":[{\"events\":[],\"name\":\"text5\",\"properties\":{\"content\":\"![](https://app-builder-demo.s3.amazonaws.com/github/githublogo.png)\",\"contentType\":\"markdown\",\"isVisible\":true,\"textAlign\":\"center\",\"verticalAlign\":\"top\"},\"type\":\"text\"}],\"isVisible\":\"true\",\"layout\":{\"default\":{\"height\":9,\"width\":2,\"x\":5,\"y\":0}}},\"type\":\"gridCell\"}]},\"type\":\"grid\"}],\"hasBackground\":false,\"isVisible\":true},\"type\":\"container\"}],\"isVisible\":\"true\",\"layout\":{\"default\":{\"height\":14,\"width\":4,\"x\":4,\"y\":0}}},\"type\":\"gridCell\"}]},\"type\":\"grid\"}],\"description\":\"Fill out the form to generate the terraform for a new S3 bucket in Github. Created using the Datadog provider in Terraform\",\"favorite\":false,\"name\":\"tf-TestAccDatadogAppBuilderAppResource_FromFile-local-1742436692\",\"queries\":[{\"id\":\"2480671a-04a8-4bd3-91ac-82f723ae145e\",\"name\":\"getServiceNames\",\"type\":\"dataTransform\",\"properties\":{\"outputs\":\"${(() =\\u003e {// Write the body of your\\n// transform function here.\\n\\n// Remember to return a value. \\n\\nreturn listServiceDefinitions0.outputs.data.map(output =\\u003e output.attributes.schema['dd-service']);})()}\"}},{\"id\":\"4699ffaf-92ca-4e51-8a46-fac54ba1b6c2\",\"name\":\"getServiceLink\",\"type\":\"dataTransform\",\"properties\":{\"outputs\":\"${(() =\\u003e {// Write the body of your\\n// transform function here.\\n\\n// Remember to return a value. \\n\\nfunction getPagerDutyLink(ddService, data) {\\n    // Iterate over the data array to find the matching dd-service\\n    for (let i = 0; i \\u003c data.length; i++) {\\n        if (data[i].attributes.schema['dd-service'] === ddService) {\\n            // Return the corresponding PagerDuty link and exit the function\\n            return data[i].attributes.schema.integrations.pagerduty;\\n        }\\n    }\\n    // If no matching service is found, return null or an appropriate message\\n    return null;\\n}\\n\\nreturn getPagerDutyLink(region.value,listServiceDefinitions0.outputs.data)\\n})()}\"}},{\"id\":\"e70f70d1-2c52-48a5-80a6-63fd50854f94\",\"name\":\"getServiceId\",\"type\":\"dataTransform\",\"properties\":{\"outputs\":\"${(() =\\u003e {function parseExample(url) {\\n    // Create a URL object from the given string\\n    const urlObj = new URL(url);\\n\\n    // Get the pathname from the URL object\\n    const pathname = urlObj.pathname;\\n\\n    // Split the pathname into parts using '/' as a delimiter\\n    const parts = pathname.split('/');\\n\\n    // The last part of the array will be \\\"example0\\\"\\n    const example = parts[parts.length - 1];\\n\\n    return example;\\n}\\n\\n// Example usage\\nreturn parseExample(getServiceLink.outputs[0].attributes.schema.integrations.pagerduty)})()}\"}},{\"id\":\"361a76b5-a868-4998-9bca-5b9dd3a8e287\",\"name\":\"createOrUpdateFile0\",\"type\":\"action\",\"properties\":{\"onlyTriggerManually\":true,\"spec\":{\"fqn\":\"com.datadoghq.github.createOrUpdateFile\",\"inputs\":{\"baseBranch\":\"main\",\"branchWithChanges\":\"new-s3-bucket-${bucketName.value}\",\"content\":\"resource \\\"aws_s3_bucket\\\" \\\"example\\\" {\\n  bucket = \\\"${bucketName.value}\\\"\\n\\n  tags = {\\n    Team = \\\"${owner.value}\\\"\\n    Service = \\\"${service.value}\\\"\\n    Environment = \\\"Dev\\\"\\n  }\\n}\",\"path\":\"generated-projects/My-Demo/${bucketName.value}.tf\",\"prDescription\":\"Auto-generating terraform for new s3 bucket for:\\n${justification.value}\",\"prTitle\":\"new-s3-bucket-${bucketName.value}\",\"repository\":\"DataDog/app-builder-demo\"}}},\"events\":[{\"modalName\":\"confirmation\",\"name\":\"executionFinished\",\"type\":\"openModal\"}]},{\"id\":\"0ca0ea43-3e3a-4071-b6aa-15b72075e0c6\",\"name\":\"listTeams0\",\"type\":\"action\",\"properties\":{\"onlyTriggerManually\":false,\"outputs\":\"${((outputs) =\\u003e {// Use 'outputs' to reference the query's unformatted output.\\n\\n// TODO: Apply transformations to the raw query output\\n\\nreturn outputs.data.map(item =\\u003e item.attributes.name);})(self.rawOutputs)}\",\"spec\":{\"connectionId\":\"11111111-2222-3333-4444-555555555555\",\"fqn\":\"com.datadoghq.dd.teams.listTeams\",\"inputs\":{}}}},{\"id\":\"8c203cf9-77c9-4167-a982-cb920714f3e7\",\"name\":\"listServiceDefinitions0\",\"type\":\"action\",\"properties\":{\"outputs\":\"${((outputs) =\\u003e {// Use 'outputs' to reference the query's unformatted output.\\n\\n// TODO: Apply transformations to the raw query output\\n\\nreturn outputs.data.map(output =\\u003e output.attributes.schema['dd-service']);})(self.rawOutputs)}\",\"spec\":{\"connectionId\":\"11111111-1111-1111-1111-111111111111\",\"fqn\":\"com.datadoghq.dd.service_catalog.listServiceDefinitions\",\"inputs\":{\"limit\":1000}}}}],\"rootInstanceName\":\"grid0\",\"selfService\":false,\"tags\":[]},\"relationships\":{\"deployment\":{\"data\":{\"id\":\"1675f900-b452-4c07-b876-33e4d95f2472\",\"type\":\"deployment\"},\"meta\":{\"created_at\":\"2025-03-20T02:11:34.855904Z\",\"user_id\":1445416,\"user_uuid\":\"3ad549bf-eba0-11e9-a77a-0705486660d0\",\"user_name\":\"frog@datadoghq.com\"}}},\"meta\":{\"org_id\":321813,\"user_id\":1445416,\"user_uuid\":\"3ad549bf-eba0-11e9-a77a-0705486660d0\",\"user_name\":\"frog@datadoghq.com\",\"version\":1,\"updated_since_deployment\":false,\"created_at\":\"2025-03-20T02:11:34.599314Z\",\"updated_at\":\"2025-03-20T02:11:34.599314Z\",\"deleted_at\":\"0001-01-01T00:00:00Z\"}},\"included\":[{\"id\":\"1675f900-b452-4c07-b876-33e4d95f2472\",\"type\":\"deployment\",\"attributes\":{\"app_version_id\":\"00000000-0000-0000-0000-000000000000\"},\"meta\":{\"created_at\":\"2025-03-20T02:11:34.855904Z\",\"user_id\":1445416,\"user_uuid\":\"3ad549bf-eba0-11e9-a77a-0705486660d0\",\"user_name\":\"frog@datadoghq.com\"}}]}"
        headers:
            Content-Type:
                - application/vnd.api+json
        status: 200 OK
        code: 200
        duration: 110.330041ms
    - id: 4
      request:
        proto: HTTP/1.1
        proto_major: 1
        proto_minor: 1
        content_length: 0
        transfer_encoding: []
        trailer: {}
        host: api.datadoghq.com
        remote_addr: ""
        request_uri: ""
        body: ""
        form: {}
        headers:
            Accept:
                - application/json
        url: https://api.datadoghq.com/api/v2/app-builder/apps/3f2a07aa-ef73-4ceb-97ae-432c8349e39b
        method: DELETE
      response:
        proto: HTTP/1.1
        proto_major: 1
        proto_minor: 1
        transfer_encoding: []
        trailer: {}
        content_length: 78
        uncompressed: false
        body: '{"data":{"id":"3f2a07aa-ef73-4ceb-97ae-432c8349e39b","type":"appDefinitions"}}'
        headers:
            Content-Type:
                - application/vnd.api+json
        status: 200 OK
        code: 200
        duration: 165.462292ms
    - id: 5
      request:
        proto: HTTP/1.1
        proto_major: 1
        proto_minor: 1
        content_length: 0
        transfer_encoding: []
        trailer: {}
        host: api.datadoghq.com
        remote_addr: ""
        request_uri: ""
        body: ""
        form: {}
        headers:
            Accept:
                - application/json
        url: https://api.datadoghq.com/api/v2/app-builder/apps/3f2a07aa-ef73-4ceb-97ae-432c8349e39b
        method: GET
      response:
        proto: HTTP/1.1
        proto_major: 1
        proto_minor: 1
        transfer_encoding: []
        trailer: {}
        content_length: 38
        uncompressed: false
        body: '{"errors":[{"title":"app not found"}]}'
        headers:
            Content-Type:
                - application/vnd.api+json
        status: 404 Not Found
        code: 404
        duration: 53.173625ms
